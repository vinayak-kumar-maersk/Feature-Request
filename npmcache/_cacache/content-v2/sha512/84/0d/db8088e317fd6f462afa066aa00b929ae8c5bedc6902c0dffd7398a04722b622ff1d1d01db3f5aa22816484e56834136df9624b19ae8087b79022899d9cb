{"maintainers":[{"email":"alexandergraybennett@gmail.com","name":"alexg53090"},{"email":"zackary.l.jackson@gmail.com","name":"zackljackson"},{"email":"me@maraisr.com","name":"marais"},{"email":"tyson.midboe@gmail.com","name":"tysonrm"}],"license":"MIT","dist-tags":{"next":"1.0.0-beta.4","latest":"2.3.1"},"versions":{"0.0.1-beta.0":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.1-beta.0","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"_id":"@module-federation/nextjs-mf@0.0.1-beta.0","dist":{"shasum":"07768e568e7d5bbf86569df5af1196a782b7d6da","integrity":"sha512-Z+FEiQFpWu6nlMM2QFDVmmP6fb9AVR/AA33JqtV4e3BT4Jl5D+RtP5YxHT9E6GNseSZI+v13tCNduJtgYCCgnA==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.1-beta.0.tgz","fileCount":22,"unpackedSize":256581,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJflbqtCRA9TVsSAnZWagAA/YEP/2vB557y5PHqIEAouOIV\njDyKqgVnj7NXdditV4izklf1jPA/zOwCSzVd/Ci7BgbK9VzPu8Xg0nzEHJ+W\nefy6LPaHIa3Y6NLmw/+7Zj4Y6jj39jVXLCuiEPh/HZunJI+VY0B+TP5MklO6\nHFUDqUCjEMCkEloESFpj96t0oB90EwEaoblsqauk3dFhJJaQbKrTNLZAjU1K\nNWMQ5QKRIaFjhOL3svaiQaTB31RNl0zJCY+RGsKeIysJ3mpjkvxuCcbWamC3\nzh/OyysLIowivVF/J88LAfq4n0gpAmjQjfZvvRNxrc5daQwx9Hexh7Yk8CI2\nL/VIBuk7WMAzEKoQKf58ldbKHhSI2Neb8MGIhyC3K1hpVp75jrNTngdVD0P7\nXEFIlkQRJoS6VXL3lPQVLtoTGh9R2iuu8UiziJiBhwS9FS6gSu68vbo2Gn9f\nEUa5O+oLqJtZya9h0jOi7d7/zOnzM820Ll+avdhgfqL43aKy0IYT0Deyy8U5\nLF5/7WNJZwLWvnpu7umkjAuq1PxQFDzMN3znSw8EgEexa+8dRePEnwBDRXP+\n1gtEiccc3H9MG8VfWnLb3dcjp8oheXMVKEGSqRRi3qg1Cbe5dE0tzG6YKY4D\nFmxH0a0A4eL/iEx4g/xUnQ4RTRafb3UqLsZPY9CKSng57xJY+Ku8S3Ke7F64\nj0iw\r\n=9YIz\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.1-beta.0_1603648173567_0.04301965628700444"},"_hasShrinkwrap":false},"0.0.1-beta.1":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.1-beta.1","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"_id":"@module-federation/nextjs-mf@0.0.1-beta.1","dist":{"shasum":"f0d6f2321511e917023a2f62f9f2e1715099ba08","integrity":"sha512-ZbrTR42pq+j1cAXzDHv4qyHC/0hC7kO6Fy/GGOMzSvLUSvkLgUxuFBpuVrOMzjNHulSa1dB/I4VVAYxpRKSsIg==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.1-beta.1.tgz","fileCount":22,"unpackedSize":257196,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJflb5BCRA9TVsSAnZWagAA+KsP/jESv/B59tJqAd75zrsT\nxUgEdedbt4fhPCkKyfn91vgSJxn5tVpJlyQ+viKDPwDBAKW9YqlsioQ0kGXA\nkpyUdwqG5pG7TDVuUqdJ7Dh+qwPlhYAoxmg5kpWTeThPXUphB9NJF3ESnVA3\nkZ5IrwqQWXaYWTcZmEVtz5yTdIk6xulRITKx1Yv1RCpHz5w6maeqvtPtKi15\n6ryS4ioMvfDP5gpx86h38qHiY4LMrveID4PGaiIVC30/3CZmaNdf0c6O5AXh\nyB2KI5wWkSBWxE+7EQAET38jkcAs0bEYMLh6GYqu1udQMoUzXHfawUsxhYRY\n19VQglTtMQZ2Hw5EK0ZdOvoMRw38UmThNneFCnrZd9Mv6Vqsuu2EcMy1vkPO\nahVD5zxprjUDacdXPqm+pfNaZ21JyA5BgYAi/EWKCRcgefXTscJvKznBaioI\nwUj+4VpYccGg1kWR5wS6J41KDljoUi+X5vY4lxJLQDVDcg080lEfMFOn/MRh\nQcL3Kcnt9ZQbjgBfDwf6/vehi4AeMlCkODm67jyRFt/1fHrNV0kglmZrus7P\nPv2JIil6YViQYwxIrd7S9UPiYdudh9M6JSi2bC5ggurxBRQ8A+FnLLcA/5bv\nGi+M21fnH21JEFl3HxQnBxV5i9Q91YAZWBbhpmOgikbHvx6URPXwazRegEYs\nDKBk\r\n=lnNV\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.1-beta.1_1603649089275_0.11812603890303519"},"_hasShrinkwrap":false},"0.2.2":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.2.2","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"bin":{"nextjs-mf":"bin/nextjs-mf.js"},"devDependencies":{"prettier":"2.3.0","react":"17.0.2"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"_id":"@module-federation/nextjs-mf@0.2.2","dist":{"shasum":"ab566ad9379004ec3fd3ae7b2a9f8dc8123aef98","integrity":"sha512-cmqhodr4Tx9TpVc3lQha0D4f09UcwctIPw/h+6t5QtjiBBBC/cEdK54D/aKEp6C134fEM8sNyn5CdRR3vbSeCg==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.2.2.tgz","fileCount":19,"unpackedSize":244557,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgpiHfCRA9TVsSAnZWagAAlKUP/RZDev3czLSk1hNjbWAh\nTYOOnvp/tAcYVNKP6s3j1m7CNL1r7jzIRYVY//NQn+ZRPDACJZvPc+3FBv5K\nQCsDOkZzBf5bLeqkryTKy8KFr+h/gWT3bbMlEjSxVQ6EIqCh2v1Esu1A0X/0\nBbkXdWMyPzuHfEkRmm/563UT49ahdu7OdG7WxTHLpuQDLWu35F5WDTGhwVgm\nZfbQLiDgnNyWxEhPmR8iRXrTCsvZ04qJPHqMMMDPt3UF9dTsFEn2S0MdSwcC\nhItl9JOAcOAqbLguW9MNFhDnbr5/d6q9ilYb5Ahji6g2bvF49ZXbPJ9fPEBL\nE/2dWG8LZJreieSqdKU3huHpBKqs2eC7I/GEqGYQcBvFLnOdhBMUwGwWFj4l\nlkbgptcMz0ZZJbsWATblnCJZaVqbU7w97jCI82+wefPihb6Pb+Me2ylp7cxf\nEaDPmvpmCBI3peMNnPXXw4F1xQ9wAZMJMI/OFDBCVho9Ijj/A0liRc4y6DKf\n0Ii5K1yweOW73YonZEFxPN9cxvoM26h9IvMfELtWct+kPzm7lChru2nqFcMp\n4tsmANrxD+ph8JUUFEU4AJ2rnwuZwbIi8QrBolnLMkHqAsYy+8Yv9MZJkG1t\n/woHFcz3qppbrB+3qU5u2Jp6JiMre2o/AUF7U7RrEfqjVqtg6JcmVzngAZG0\nFGbE\r\n=p7jt\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.2.2_1621500383181_0.8695904624464688"},"_hasShrinkwrap":false},"0.3.1":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.3.1","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"bin":{"nextjs-mf":"bin/nextjs-mf.js"},"devDependencies":{"prettier":"2.3.0","react":"17.0.2"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"_id":"@module-federation/nextjs-mf@0.3.1","dist":{"shasum":"02c84fed42d59a7ff4b640418f793c2cd960cb52","integrity":"sha512-/PIqliUeanoZgkbdE4L/nrzHI357JDhBeu+Ns+bx39jzXhYuc1B8FuBjKCaii/SD0LDCGJulG5SQT/HwipA8pw==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.3.1.tgz","fileCount":17,"unpackedSize":242265,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgqGPYCRA9TVsSAnZWagAA9joP/3bxTgp3CT9G1/lEyQfr\nJOMg12sU8svPGEKAIhev+tI9VC1hhck+gxTgT8vxebiQl4wwSxuIWcG5X3ag\nG7q4+QZHlQcWizHGxFDriZMqkaAa5DsUxHpAheENHOvACYjn3aOdjCSr8Fi/\nHInYbMqHsGv2HHIFG/jIAUOAoKhec3gS7almLdwuQuQ2RdIrj5W8yqh0jhuc\nEpESaH3TAuEfA04USfGk64xrVecFeGuNs39M7JjVBqgovSUHDCqE/dSiD40E\nshRLt5a1O+7uyQwSpRTxAm7DWulDoim0jOAH65qATdxUJ6vhycYuP//sSanf\noG/Vn8263n3VLgBExy2AUG9wmVCosNcNuA2JQTfAbyC6ZP/jJBj7IE5Jysbb\n5RnTkL7lZr+IhmtQAvdtQfp2DvaRHaPJ15S6+FKdubZFJpl/PuXVH3tEdPKo\n1Xc47DZvPJYXQc3/nK+bVyYXmBrPDv/bSYaR+26mNfLuGrEOXRJqZKLwGy4g\nJoRaC6lsnNvCZaMDs60oqau3fY3Eq1NhO3TfY5ACqr2U31hHOdug2wyGZ/QD\nmxePNKQHB+7JFk5T+6Lvh1ry+SS8AjbKxk28ZEjqAVHzscKjqhZx1SaxwgRJ\n8qpbNwkbjByKn6EvdaxHHg+HB+LXdmWYUa7q/5KRmZnlp9PAWZw5WLPo+Ib/\nYTNc\r\n=B/25\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.3.1_1621648344056_0.8589600791500387"},"_hasShrinkwrap":false},"0.4.0":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.4.0","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"bin":{"nextjs-mf":"bin/nextjs-mf.js"},"devDependencies":{"prettier":"2.3.0","react":"17.0.2"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"_id":"@module-federation/nextjs-mf@0.4.0","dist":{"shasum":"fff328d03b7a206027d1cb6360807f7b0a5f7441","integrity":"sha512-ufiQSvCLrLGgp1bhVoATyeyL0K50AQWf+mlpLN/txr6wQLhqD6expgrNK6nAZJW6Vs5RseFG8rOiChRs6IjAbQ==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.4.0.tgz","fileCount":18,"unpackedSize":243243,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgt7/7CRA9TVsSAnZWagAAeYQQAJhbNk8vMGXGHD2CntAY\nlQg7kjvers/DP5sqr7GP3bhXxep3cXjG8DH9Gva8fhcTOhyVWgPPK2Y1/qTT\nkTJGTVVw+HhdH5QWazW/MAtjRj0CuFQqygg7Tz66chrpuBzbnrZrx22ICggD\nUN2YYOkoc1ku4ww6igveauFCZ34zLzm793Gy1vtdx2bZH4kMaFFiA4jz+3WG\nyVtU5iEof+KgVfv8o3b3tZc1gycJK5aejov2heEqbKIOSbL5tF4QIKVG4cGJ\n1lOGTaowGQSIuZN49D5XjNjd0gp2A9mNGW8axht+On3Bw4r4AtQ5LJqkvbUG\nxAcKlvILOVm1bVIGzgkXWvLAAB8vbM8w5xKoyI6aQ5zZEQ4JZQgeyQCzag8o\n08gluEfbPKDluKwvKEZ1msUR1bracN0IlS1dOXA+w3QcMYhiI5jSD97g0FZY\nxWlfOrt0/DM9YBJQRglix2oweeQuxpJu41Yf8P8H8HEt6ILtjZm5vpPQ0jNc\n88LIWhlHH0B41T9Q24aT2R/P48UWWYAoDqXJ/MPamkvQVKfjMayqM2o/KoYp\nTYjBTQEA1td44As5G2MmGdKfcmRO4PFD+OtVzxCHeoPdbGzgSR3tCbwc5Jwm\nkRNwfOPmcSGvTogKMdTRJNQ6ZK5OJczsN32S7wNOz7q8T5KZYNQPxKZ+4BeX\nbReZ\r\n=EvFA\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.4.0_1622654971117_0.7751383081058665"},"_hasShrinkwrap":false},"0.0.1-beta.4":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.1-beta.4","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"readmeFilename":"README.md","readme":"# Module Federation For Next.js\n\nThis plugin enables Module Federation on Next.js\n\nThis is a workaround to hard limitations caused by Next.js being synchronous.\n\nI am working on an update to Webpack Core which will circumvent projects with older architecture (like Next.js).\n\nThis is a stable and viable workaround to leverage Module Federation [until this issue is resolved](https://github.com/webpack/webpack/issues/11811).\n\n### Supports \n- next ^9.5.6\n- SSG\n- SSR\n\n**Once I PR webpack, this workaround will no longer be required.**\n\n# Check out our book\n\n| <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\"><img src=\"./docs/MFCover.png\" alt='Practical Module Federation Book' width=\"95%\"/></a> | <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\">We will be actively updating this book over the next year as we learn more about best practices and what issues people are running into with Module Federation, as well as with every release of Webpack as it moves towards a release candidate and release. So with your one purchase you are buying a whole year of updates.</a> |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n\n#### Demo\nYou can see it in action here: https://github.com/module-federation/module-federation-examples/tree/master/nextjs\n\n## How to use it\n1. Install Next ^9.5.6 (currently in canary)\n2. Use `withModuleFederation` in your `next.config.js`\n\n```js\n// next.config.js\nconst {\n  withModuleFederation,\n} = require(\"@module-federation/nextjs-mf\");\nconst path = require(\"path\");\n\nmodule.exports = {\n  webpack: (config, options) => {\n    const { buildId, dev, isServer, defaultLoaders, webpack } = options;\n    const mfConf = {\n      mergeRuntime: true, //this is experimental,  read below\n      name: \"next2\",\n      library: { type: config.output.libraryTarget, name: \"next2\" },\n      filename: \"static/runtime/remoteEntry.js\",\n      remotes: {\n        // For SSR, resolve to disk path (or you can use code streaming if you have access)\n        next1: isServer\n          ? path.resolve(\n              __dirname,\n              \"../next1/.next/server/static/runtime/remoteEntry.js\"\n            )\n          : \"next1\", // for client, treat it as a global\n      },\n      exposes: {\n        \"./nav\": \"./components/nav\",\n      },\n      shared: [\"lodash\"],\n    };\n    // Configures ModuleFederation and other Webpack properties\n    withModuleFederation(config, options, mfConf);\n\n    if (!isServer) {\n      config.output.publicPath = \"http://localhost:3001/_next/\";\n    }\n\n    return config;\n  },\n};\n```\n\n3. Add the `patchSharing` to `_document.js`. This will solve the react sharing issue.\n\n```jsx\nimport Document, { Html, Head, Main, NextScript } from \"next/document\";\nimport { patchSharing } from \"@module-federation/nextjs-mf\";\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      <Html>\n        {patchSharing()}\n        <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n        <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n```\n\n4. Use top-level-await\n\n```js\n// some-component.js\nconst Nav = (await import(\"../components/nav\")).default;\nconst _ = await import(\"lodash\");\n```\n\n## Experimental\n\nUse at your own risk.\n\nNext.js uses `runtimeChunk:'single'`\nWhich forces us to also add the webpack script itself. Till this is fixed in webpack, heres a plugin that will merge the runtimes back together for MF\n\nThis can be enabled via `mergeRuntime` flag. This is not part of Module Federation, its part of this plugin.\n\n```withModuleFederation(config, options, {mergeRuntime:true,...mfConf})```\n\nYou can manually add it as follows\n\n```js\nconst {MergeRuntime} = require(\"@module-federation/nextjs-mf\");\n// in your next config.\nconfig.plugins.push(new MergeRuntime({filename: 'remoteEntry'}));\n```\n\nThis allows the following to be done\n\n```diff\n  - <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n  - <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n  + <script src=\"http://localhost:3000/_next/static/remoteEntryMerged.js\" />\n```\n","_id":"@module-federation/nextjs-mf@0.0.1-beta.4","dist":{"shasum":"d2a634810adab2b823b2ead9a0ab32c4b31bb20b","integrity":"sha512-iNhoQ7ctX5UrKI3AUfIs5i4V6lLLS0+jdrkS/yWUmerfTRcfb/kSf2+kIv+RG17TythJBqslfG5KGqVq/GfipQ==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.1-beta.4.tgz","fileCount":22,"unpackedSize":260092,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfl7qCCRA9TVsSAnZWagAAEgYQAJkCDD1Qew7vRDvBUlGz\nQWaI00oi/I044pvOreDBVyYyhHDOQkfSACFSLclOC6Gyw7SJWcG5u2UPWPBQ\nSR2hhQj7E3DhfR0PBPEkZktrEpFNe3GKWEUELEPEIszm23UpdB5R8M3iQpSt\nccrQUzRW0fUmRSkyKdGK0BnFs60q4aDdDUVT7FGaJh/3HEPU+YGJNgxXnXNK\npz3y6kMQesKpWLTzBUBwdRwrr9BnG9Tk2TGtA/CHn862Wzv70mXFGez6Tkdo\nG9HVhkyDUR7y1wmykDx1Y9SLMXXDiyXQVF655eI0b6QVIdSO05FOtnWfIXTx\nQd5OXfmsq48QvNyI2yQBU9rQfdIeqPXTTaFt/nYNiMvcI84A9I8kh1yZ9QA8\nA+NSOO7WO5IY4G7fjHgqWBwHySm/sX0lHkrUnrmNt4H6E1KhYQ0Lr0TK9REb\ndQt7NOb8j+FwtiTqFYCHobmun+gAB7Dov+zbvn3DyrEzbYi96t6bmoqoBEvE\nHdJc5/lwqxVWyWd4E7k0OVLOe+cEeViiGJiZeI7/3HAF3OrNitUG8+Ub0QEK\n49aKLo45w8WO2HHUliOYMOmXBLXUFOvXUWVPj6Ar3Q/UbToczSihl8TeW1wj\nWkVt8qhSFV9VQwep2ChKkLY2Q9MX8QVZAnVVtY+foMz/8tRdAfxdEwM85v1W\nl92x\r\n=hr0+\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.1-beta.4_1603779202413_0.6289857868737003"},"_hasShrinkwrap":false},"0.0.1-beta.5":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.1-beta.5","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"readmeFilename":"README.md","readme":"# Module Federation For Next.js\n\nThis plugin enables Module Federation on Next.js\n\nThis is a workaround to hard limitations caused by Next.js being synchronous.\n\nI am working on an update to Webpack Core which will circumvent projects with older architecture (like Next.js).\n\nThis is a stable and viable workaround to leverage Module Federation [until this issue is resolved](https://github.com/webpack/webpack/issues/11811).\n\n### Supports \n- next ^9.5.6\n- SSG\n- SSR\n\n**Once I PR webpack, this workaround will no longer be required.**\n\n# Check out our book\n\n| <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\"><img src=\"./docs/MFCover.png\" alt='Practical Module Federation Book' width=\"95%\"/></a> | <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\">We will be actively updating this book over the next year as we learn more about best practices and what issues people are running into with Module Federation, as well as with every release of Webpack as it moves towards a release candidate and release. So with your one purchase you are buying a whole year of updates.</a> |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n\n#### Demo\nYou can see it in action here: https://github.com/module-federation/module-federation-examples/tree/master/nextjs\n\n## How to use it\n1. Install Next ^9.5.6 (currently in canary)\n2. Use `withModuleFederation` in your `next.config.js`\n\n```js\n// next.config.js\nconst {\n  withModuleFederation,\n} = require(\"@module-federation/nextjs-mf\");\nconst path = require(\"path\");\n\nmodule.exports = {\n  webpack: (config, options) => {\n    const { buildId, dev, isServer, defaultLoaders, webpack } = options;\n    const mfConf = {\n      mergeRuntime: true, //this is experimental,  read below\n      name: \"next2\",\n      library: { type: config.output.libraryTarget, name: \"next2\" },\n      filename: \"static/runtime/remoteEntry.js\",\n      remotes: {\n        // For SSR, resolve to disk path (or you can use code streaming if you have access)\n        next1: isServer\n          ? path.resolve(\n              __dirname,\n              \"../next1/.next/server/static/runtime/remoteEntry.js\"\n            )\n          : \"next1\", // for client, treat it as a global\n      },\n      exposes: {\n        \"./nav\": \"./components/nav\",\n      },\n      shared: [\"lodash\"],\n    };\n    // Configures ModuleFederation and other Webpack properties\n    withModuleFederation(config, options, mfConf);\n\n    if (!isServer) {\n      config.output.publicPath = \"http://localhost:3001/_next/\";\n    }\n\n    return config;\n  },\n};\n```\n\n3. Add the `patchSharing` to `_document.js`. This will solve the react sharing issue.\n\n```jsx\nimport Document, { Html, Head, Main, NextScript } from \"next/document\";\nimport { patchSharing } from \"@module-federation/nextjs-mf\";\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      <Html>\n        {patchSharing()}\n        <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n        <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n```\n\n4. Use top-level-await\n\n```js\n// some-component.js\nconst Nav = (await import(\"../components/nav\")).default;\nconst _ = await import(\"lodash\");\n```\n\n## Experimental\n\nUse at your own risk.\n\nNext.js uses `runtimeChunk:'single'`\nWhich forces us to also add the webpack script itself. Till this is fixed in webpack, heres a plugin that will merge the runtimes back together for MF\n\nThis can be enabled via `mergeRuntime` flag. This is not part of Module Federation, its part of this plugin.\n\n```withModuleFederation(config, options, {mergeRuntime:true,...mfConf})```\n\nYou can manually add it as follows\n\n```js\nconst {MergeRuntime} = require(\"@module-federation/nextjs-mf\");\n// in your next config.\nconfig.plugins.push(new MergeRuntime({filename: 'remoteEntry'}));\n```\n\nThis allows the following to be done\n\n```diff\n  - <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n  - <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n  + <script src=\"http://localhost:3000/_next/static/remoteEntryMerged.js\" />\n```\n","_id":"@module-federation/nextjs-mf@0.0.1-beta.5","dist":{"shasum":"37320da7ac5238cd179f1185d2275c9af0548e06","integrity":"sha512-ReiiImDjTVkd/goMu9+24zIIuBH57UF1xIo2PwpTFvMjoDMn03uIKSyprqdZLM3sN5ENnMV3AvmoVgPvmGfm3g==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.1-beta.5.tgz","fileCount":22,"unpackedSize":260148,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfmFTMCRA9TVsSAnZWagAAxbQP/3VYsk2Pl+u5jREumRQt\n2LW4pRM+KVcmSUdqPCB8Yrlgrz7TkS3aCbQIzr0KZbsQ+P7n2qiTshiE53i0\nrhtxU6KYvl38JKYRZp0c0Xja7IgqvJ9lfkdC6d122qeBwwK6Z/ZP4rEC+5Ab\nKlU65R6Nn4zT+Z+8whXdf3QaNwSDbUIoYTp2bcuqACb6oOREd+jC+AC+eMAQ\n/L+uX5+ciDIW4qu9KWeUJO+aPUF3+C7e95kgQCPBL0PqpI/35Kmk1gTkTSar\nt/kCmmNTPIR99t9Q9JEERxzKssnikiMzSRGmkdvqw4u/oDSiugMl45W524I9\noKyzluas9fgx67798b0oZZhmlKOHFYZqaEhTZ1lgz4fKJOIehVw6flJMsDQp\nqVLzJ9jtpPkI7931trux5uCT/F2DKiphbjjEjQH13AFBanlsxZ7g1g2c5Y3A\nkuxamsm7d4jTMIOKzTn6rKgc/3GehtgAf/QzhnqhAukvWBM3m1sar7J6xfRR\nCFTGRq/vNM9wvU0mHa29PZjw3jJy2mMbZxD1PyuLETGT/v4sV86KuoRPawEe\ntNydmVcFL/c5WMKpU/05ud/MAauPyKYPTOgmCtAXU8ovWc0IbG/zzJ05M6Ha\npvKkJ/2UQsFoTfbCYxcD30hiMdR4JGDHPbuPV3lWW4j7gqHhZsUQDLxSJTRA\nUosH\r\n=V1au\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.1-beta.5_1603818699922_0.08782977089992539"},"_hasShrinkwrap":false},"0.0.1-beta.2":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.1-beta.2","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"readmeFilename":"README.md","readme":"# Module Federation For Next.js\n\nThis plugin enables Module Federation on Next.js\n\nThis is a workaround to hard limitations caused by Next.js being synchronous.\n\nI am working on an update to Webpack Core which will circumvent projects with older architecture (like Next.js).\n\nThis is a stable and viable workaround to leverage Module Federation [until this issue is resolved](https://github.com/webpack/webpack/issues/11811).\n\n### Supports \n- next ^9.5.6\n- SSG\n- SSR\n\n**Once I PR webpack, this workaround will no longer be required.**\n\n# Check out our book\n\n| <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\"><img src=\"./docs/MFCover.png\" alt='Practical Module Federation Book' width=\"95%\"/></a> | <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\">We will be actively updating this book over the next year as we learn more about best practices and what issues people are running into with Module Federation, as well as with every release of Webpack as it moves towards a release candidate and release. So with your one purchase you are buying a whole year of updates.</a> |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n\n#### Demo\nYou can see it in action here: https://github.com/module-federation/module-federation-examples/tree/master/nextjs\n\n## How to use it\n1. Install Next ^9.5.6 (currently in canary)\n2. Use `withModuleFederation` in your `next.config.js`\n\n```js\n// next.config.js\nconst {\n  withModuleFederation,\n} = require(\"@module-federation/nextjs-mf\");\nconst path = require(\"path\");\n\nmodule.exports = {\n  webpack: (config, options) => {\n    const { buildId, dev, isServer, defaultLoaders, webpack } = options;\n    const mfConf = {\n      name: \"next2\",\n      library: { type: config.output.libraryTarget, name: \"next2\" },\n      filename: \"static/runtime/remoteEntry.js\",\n      remotes: {\n        // For SSR, resolve to disk path (or you can use code streaming if you have access)\n        next1: isServer\n          ? path.resolve(\n              __dirname,\n              \"../next1/.next/server/static/runtime/remoteEntry.js\"\n            )\n          : \"next1\", // for client, treat it as a global\n      },\n      exposes: {\n        \"./nav\": \"./components/nav\",\n      },\n      shared: [\"lodash\"],\n    };\n    // Configures ModuleFederation and other Webpack properties\n    withModuleFederation(config, options, mfConf);\n\n    if (!isServer) {\n      config.output.publicPath = \"http://localhost:3001/_next/\";\n    }\n\n    return config;\n  },\n};\n```\n\n3. Add the `patchSharing` to `_document.js`. This will solve the react sharing issue.\n\n```jsx\nimport Document, { Html, Head, Main, NextScript } from \"next/document\";\nimport { patchSharing } from \"@module-federation/nextjs-mf\";\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      <Html>\n        {patchSharing()}\n        <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n        <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n```\n\n4. Use top-level-await\n\n```js\n// some-component.js\nconst Nav = (await import(\"../components/nav\")).default;\nconst _ = await import(\"lodash\");\n```\n\n## Experimental\n\nUse at your own risk.\n\nNext.js uses `runtimeChunk:'single'`\nWhich forces us to also add the webpack script itself. Till this is fixed in webpack, heres a plugin that will merge the runtimes back together for MF\n\n```js\nconst {MergeRuntime} = require(\"@module-federation/nextjs-mf\");\n// in your next config.\nconfig.plugins.push(new MergeRuntime());\n```\n\nThis allows the following to be done\n\n```diff\n  - <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n  - <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n  + <script src=\"http://localhost:3000/_next/static/remoteEntryMerged.js\" />\n```\n","_id":"@module-federation/nextjs-mf@0.0.1-beta.2","dist":{"shasum":"ee363743d58dbe5be2684cac709d46e73b79cbcc","integrity":"sha512-YCCLHUV5e33JWDuGat1iGRDjyMUnAlmbXcQdqY4uR3A5jlGIyqlocWxLlrbxmfs/QPq38ZDL7PW1+VRLAb9jSQ==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.1-beta.2.tgz","fileCount":22,"unpackedSize":259258,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfl7fPCRA9TVsSAnZWagAAUA4P/0MYh0CxAaVhyRs6UhE9\ne+OsiW0L2jigwNLZ5z1V1t6GBVeJfdU8MBLYnkLt04V0ddyqsNm7YW3VgMM0\nGkfZvctUhA0675n6ZFE91vMy8nkIkSbRdzzugDfdNDpKoYc8mm7Aq3eBiFla\nuQWTjkSp4SLl5acAAXooXBFMyeHXxdU18hLHKYGT3F8PB2k1Jj2qw1kN3NtP\npYNd2qw6dgBD0Gq6AArtbjNMBRbvQw7/twLhp3KRSTrweWGVbA/zJXtrpFSP\nWRsjxBE0GeUEdKdIPRi4FsI2q7/AEoTeUlwzGcPl7P5zPzX8V8XnPc0HMjPS\n3dgG6F5vzyhJyZ6EatSh1zk036vjMX2sYXGMZbZvUpRWNRIvcmwvJ78fj0xo\nSGOuIRidsSAhFOrXUNRc1hWCfjsGyK+2rjhainl3ZfuFRyoX8ktCFEvLX5Fv\noLXZMT5wEaFb/DwTHdAFptQZmpJplkrRV9nUio5XbuZJNXkhpuO1WSeGYtvV\nAre4HqAF7nfqzp0sNWWB62KKEcOeDOFOLBLc6HVhTDpKnswxrZpNIa23QhJ+\nuLpcl0CChgn6vEXAnoeSPLLVUeTEAO/CCW2TmwdckDxzoJTjrrclpkvM3gtp\nSoGd3uAgxsDVrzK/t1058BmSaKBWK39FRysrdJ/fQV/b+adxYF6DuWMcMNXd\njWnX\r\n=5V22\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.1-beta.2_1603778510796_0.9707267866406977"},"_hasShrinkwrap":false},"0.0.1-beta.3":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.1-beta.3","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"readmeFilename":"README.md","readme":"# Module Federation For Next.js\n\nThis plugin enables Module Federation on Next.js\n\nThis is a workaround to hard limitations caused by Next.js being synchronous.\n\nI am working on an update to Webpack Core which will circumvent projects with older architecture (like Next.js).\n\nThis is a stable and viable workaround to leverage Module Federation [until this issue is resolved](https://github.com/webpack/webpack/issues/11811).\n\n### Supports \n- next ^9.5.6\n- SSG\n- SSR\n\n**Once I PR webpack, this workaround will no longer be required.**\n\n# Check out our book\n\n| <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\"><img src=\"./docs/MFCover.png\" alt='Practical Module Federation Book' width=\"95%\"/></a> | <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\">We will be actively updating this book over the next year as we learn more about best practices and what issues people are running into with Module Federation, as well as with every release of Webpack as it moves towards a release candidate and release. So with your one purchase you are buying a whole year of updates.</a> |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n\n#### Demo\nYou can see it in action here: https://github.com/module-federation/module-federation-examples/tree/master/nextjs\n\n## How to use it\n1. Install Next ^9.5.6 (currently in canary)\n2. Use `withModuleFederation` in your `next.config.js`\n\n```js\n// next.config.js\nconst {\n  withModuleFederation,\n} = require(\"@module-federation/nextjs-mf\");\nconst path = require(\"path\");\n\nmodule.exports = {\n  webpack: (config, options) => {\n    const { buildId, dev, isServer, defaultLoaders, webpack } = options;\n    const mfConf = {\n      name: \"next2\",\n      library: { type: config.output.libraryTarget, name: \"next2\" },\n      filename: \"static/runtime/remoteEntry.js\",\n      remotes: {\n        // For SSR, resolve to disk path (or you can use code streaming if you have access)\n        next1: isServer\n          ? path.resolve(\n              __dirname,\n              \"../next1/.next/server/static/runtime/remoteEntry.js\"\n            )\n          : \"next1\", // for client, treat it as a global\n      },\n      exposes: {\n        \"./nav\": \"./components/nav\",\n      },\n      shared: [\"lodash\"],\n    };\n    // Configures ModuleFederation and other Webpack properties\n    withModuleFederation(config, options, mfConf);\n\n    if (!isServer) {\n      config.output.publicPath = \"http://localhost:3001/_next/\";\n    }\n\n    return config;\n  },\n};\n```\n\n3. Add the `patchSharing` to `_document.js`. This will solve the react sharing issue.\n\n```jsx\nimport Document, { Html, Head, Main, NextScript } from \"next/document\";\nimport { patchSharing } from \"@module-federation/nextjs-mf\";\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      <Html>\n        {patchSharing()}\n        <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n        <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n```\n\n4. Use top-level-await\n\n```js\n// some-component.js\nconst Nav = (await import(\"../components/nav\")).default;\nconst _ = await import(\"lodash\");\n```\n\n## Experimental\n\nUse at your own risk.\n\nNext.js uses `runtimeChunk:'single'`\nWhich forces us to also add the webpack script itself. Till this is fixed in webpack, heres a plugin that will merge the runtimes back together for MF\n\n```js\nconst {MergeRuntime} = require(\"@module-federation/nextjs-mf\");\n// in your next config.\nconfig.plugins.push(new MergeRuntime());\n```\n\nThis allows the following to be done\n\n```diff\n  - <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n  - <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n  + <script src=\"http://localhost:3000/_next/static/remoteEntryMerged.js\" />\n```\n","_id":"@module-federation/nextjs-mf@0.0.1-beta.3","dist":{"shasum":"4c32fcf806c4a00bc16e1e59d4d293be3e340a56","integrity":"sha512-N/Ofxg68p9w5vjcdOo1pBT6YrRPdBWu5GE286R1ouH24hlLIw1R0YPdXA4g+E87C/mGQUDN9hSjBo9sX2AOImA==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.1-beta.3.tgz","fileCount":22,"unpackedSize":259238,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfl7hUCRA9TVsSAnZWagAAVOsP/ipnVFQXZOPRzLhOwpBp\nO4OQ5DLCSgKibtlgDGxNeYWssxQkHrNKgZN2I4+T7tCAHQluYucDAw0krt/O\nJkH3Tvus7WcUFhWt/HHii6LkS/mBUZQxCE/cij1RcUKQPknDG7SUCIUX2/vG\nu/920VdRvXYYfsUT5/cpLmWMH8tfXdrWlYGQiBroJ61tc7PzqZQCmmjLRHJQ\nQ3VTVvfdv3agIjw+JQtf4cwM7ckuB8HlkpklMhvhEx+E2mXadVGZWQNwG2Cd\n3+w6PeFsbhe8Ta3xgmPZELHXwzXBgLti4ZFWANv6AAU5elbi8Nb2pb3C//pf\nSz1Z3n3HVtKb2RjLi67gi3mekYyZxozBppmqS4q8YdQ01jUxvW2bnomXi90l\nuj4+ZHfGCI0prTeiPfJNdNTfJrv+rW/kVu2ncfl618FPEGyBbuRR2oZwCZe8\npjvANkhZQxcn46C1dg14YpEWLDSS2ZPvsZ9cF/JSpUO640CE4t5B5Jw+aeUu\nGSZ4FxN7V/lOb61VzvQTbSnQgV+F/Zw3/W3Fojf/f3kyK9XQ4oX/r/LED/jU\nR+oeIED8EIpOPlSvLTu0DTEgOJYxktcr0ex80n/qLNd8MWwbYUd8nOC7SW3L\nprOtUw0BwRPzf29JM9o5pePrKatl5wjNbhuYrtYVs6t4MwuARIl4+xGlhKbB\nR0VL\r\n=rwZt\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.1-beta.3_1603778643693_0.726520639894106"},"_hasShrinkwrap":false},"0.0.2":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.2","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"bin":{"nextjs-mf":"./bin/nextjs-mf.js"},"devDependencies":{"commander":"^6.2.0","prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"_id":"@module-federation/nextjs-mf@0.0.2","dist":{"shasum":"827316cdf598733b1b4e349c57aed4d855f5f0a1","integrity":"sha512-YIYo87ocmS68O8GnvXMjULycHze/HgMBIyKMFaWUEAPK5rYLzZ+GuaklIHNZW3DnuPDgomwBd9A2bxHQzjq3Sw==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.2.tgz","fileCount":24,"unpackedSize":263770,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfmbiKCRA9TVsSAnZWagAAhpkP/3YZUAhQuDSC51a62zqh\nE5vFHYhjMwc2sVBvQR9feUZi3Wr1jlCo96pbM14ql8PLAonsZor9dXTfnGRB\n/oGzOfRNhYCJbkxF8uIEwsfnrtYFMu5Ln/+QdEsXu4YWuvjt0jhyX++m8Bqe\nJng4TETrtUAlaXlFiC/2+40ygn3+92MYUZSRg4F+56lADyAOPbo5jF3ExcI3\nC/birXCCcprUht3zclqjWNNFx+dk0dkDV6ah9g26CsbttzpdaOEDkSdRzgRK\n+Us3HRsKPr+XvDp3uhvoAuD3qhtpeIcmzHv9oLuUXucnUsUjjfS6arivHB1D\ncaKPAhpyut3Qm4E2LD//c7WRXpfIIyqCRFthyZLkN5gtiE3SygP2O/EbOpt1\nw+KZuUJcbn0yZakZu5G2ShKiNTBNO67KKW2kQK/I5YusrHI8ztZ+Xx5/wIXC\n965IdfmLtv+MdOYOk9maW18u4Qyv71GU0UaedsJ4pXCSdK7DN7kc0ESPP904\nF1SpkNuyLLIp2PDP4F3l646Mq7E+Pk1i2Qnyl650LPBZWaHhbDi7Q6lgJnzL\nOnvreejqVJebgkrH9rt4U5i6dB5NjqW5coNGuOCrRBe9R5itQjE3nPVePG3L\nlFKV0mmratqY9NLkeD3QPmvikSmz+ydfj351cNguZmao2/cXSL9gfN3MXEAK\nqw/H\r\n=hzw8\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.2_1603909770399_0.246014188242339"},"_hasShrinkwrap":false},"0.1.1":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.1.1","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"bin":{"nextjs-mf":"bin/nextjs-mf.js"},"devDependencies":{"commander":"^6.2.0","prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"_id":"@module-federation/nextjs-mf@0.1.1","dist":{"shasum":"fc8cb3742e9ccb35876993daf98e3b4d2f91ff54","integrity":"sha512-G6YijY2dkUMJToySFT88UAyzbOVnM/HEu5LZKYrI4SOrlPFPwuhecebBbxnJ5LdQRamJrSuo0FClJRlWzf58Bw==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.1.1.tgz","fileCount":17,"unpackedSize":241425,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgktIzCRA9TVsSAnZWagAA73oP/jNXixwvu0DQlwqUhz3/\n5mvUO4dFvTLYeRiM/4NZpVjRuUM1dNADjRoG8A1XdqEKYuiEsUNagFSAcrqE\nHm6qFVpiimsebBiSdb2UidihLi2MFh2rqPObTBHJRzj5463dS6sGA2qgmCj2\n6F/grFfxZH2DBVaoHltXc6d4Zolf/tf8wEzXQNbhMuUHpL3mBJwyYfBkhCI1\nELriE8wV4SDdwSXVgeq0mTGtDZlAaRLUoA2hjygZv9Tx9OrsAAGQwM/59D8Y\nxgWqyAc4wyTRUUQT+YTt1qkW+TyeRIPxS9OnSFemNLXsvX6Ts3f2yZo3SGEw\ndmL42OmsgUky2ECvCu9GxzG3yzZB5v4aPaqQygZdQse7fgXvFHnLxL2l7egu\n8NIClrAODn17OUUtdBVh46xj2xOudUBWCK1QwwQE/j4tMDJ1HwZFz9KKVquW\nMIilmD9rP/q6k+RxZeXvbmTdygmC6PK8Wkqgc6cGAJ5g212rJJp5wQLCC9Uy\nqYCT9zpwE8VV9c9NmLwHkm8kurUXjsJ8l3Gkrz0abGy6qW9AG0xiZJvXBkiX\nFyMrkC4Gvf0UaiNORQDCRbhJuNwEHajNVHLErfTRE65WQXmUNGUyree4aUMQ\n3dpLFkyY+jIJnPmNG07qTXXtV7wVY1UDVwV8m3eWkWGAv5XKaTOUJbDziGza\ntc0C\r\n=xs9U\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.1.1_1620234802735_0.1649613975813311"},"_hasShrinkwrap":false},"0.2.0":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.2.0","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"bin":{"nextjs-mf":"bin/nextjs-mf.js"},"devDependencies":{"commander":"^6.2.0","prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"_id":"@module-federation/nextjs-mf@0.2.0","dist":{"shasum":"d3c6fa2f5bffcbe636aa12a25a55fde34eb867a8","integrity":"sha512-QZfUu92UyYNNdSi+DDUxQcXds7TR3B+g/61Ih7vL4R8QEMl6c655ErvmFfDYPEIESrA4gXG1DStFJ8u20UpOlQ==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.2.0.tgz","fileCount":17,"unpackedSize":242117,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgoxRkCRA9TVsSAnZWagAA6CIP/RUfgiYUfsFkkCjKvGWT\nUezbGObsVF/a0iK5RTFUdjV/3je5hCHJW2PQVKWz6hxoddiVGAiXePm0iCk5\n4j/julYk+BJnsbCVAGBgQkDFeSHkXFXMhF3ogKTwMTexQF4clQU+8sHdGwtr\nEMb5c7R7pXzRq+C0bBRP5pJgmEv183UpJPlRoOOTbprciFPmP3+ShpSTi9D2\n/gkrTHLLSx7SUf8voljahj3EvT1Ozheu+gvYB0mcdF/XUJVDwdCnpsekygWy\nluP0Ll9iLeCf5eY5DGh+9cezhMxyfRk2fcHDk5Ab7NuwThfwo2QoJEofrVRk\ny9T7K8cqOprxItMvVz9C2UY0BIg3MDqd8TYvru/AHECq4yMyOpgUnhNEYAcB\ngol5d7Mn7d65QtS5QPVLziZ+PP782UScxJdEByl9vggIsZ4+k4+0h/HCA1DU\n3tS5mZIYGOgQRjcBM+SPum76cPM+KkiA4xgg9s6YIW4OtkcfLzxtWe+a0xxe\nZYXhwCMChCe5RBiLCnv7pe15v62kCw4OuxaLci45dqF34kOO4wHiYjbqJUQb\nM2LU7n+FsKn3G5Kv+cyKI5W+RDGu7r44c8wd9/AvMVwKkD9CTCSpb2BhQKiB\nrpX9NKef159PQqbXlC6BnrRGgBx8fvbsPS4HqgjW3lc/lg8CQyttt4CNop7K\n8TwK\r\n=JSbx\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.2.0_1621300323789_0.05071421700045953"},"_hasShrinkwrap":false},"0.0.3":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.3","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"bin":{"nextjs-mf":"bin/nextjs-mf.js"},"devDependencies":{"commander":"^6.2.0","prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4","webpack-sources":"^2.2.0"},"_id":"@module-federation/nextjs-mf@0.0.3","dist":{"shasum":"1c85ae0dd81018f2e357944eb89dd17023956b3c","integrity":"sha512-VU+11462RWpcXPDVAE+Y2e642ja9TiEbyOYbA1Ss+1IP6j0wOYxaqgDowqEt6D/zD9fawsUvC2BE0lEcfssQiw==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.3.tgz","fileCount":17,"unpackedSize":241101,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgktG4CRA9TVsSAnZWagAAp58P/2NFuGpmznQy0dl/vZqI\nKSlvctLPWzdN9GnVLcNMpzjQ0Us1ZklSNI3d+fpwC2yrmWpMtrhR9muaWAM1\nuk20UJksXT82LxVgDgXvatx3HswOP9PmSELFb29PUbV3nGYomFm9j+/dbKfG\n9HbM/zPdbg62c9ByMJ0typ6C/D+t9wh9heuqPD6RwzOt8yG+bQQyk4UOjLnc\njvzEvY6C1RHwXt5GmhuCyocykZL1ols63DGl9K3UvnZGhr0taY3ctAjEjk/E\n2jUQevCPagt3pPnAeE5yssMpfhs35G5Gk1WPnRer+cjK8WwThYCxBjZMqHL+\nO+/ZHyqn/OZ0ks4pr5vhCiYulCmecY6c5aIgPA8Ck0pQx9TDobiqQvrb1UUA\nRCEod02YQOC0z7Vw3Rzp+aKZgG2USopExX7VegX/spR7lEWHIAtuYkHm8iEz\nerj37rbtAEojIKZ2qGy0SgssPsCoQh7mk0M5XbBcX+xqPH4RL3sJDBcUQsOa\nRKrv0B8GXSRl6x9NToGFxDrDI1plEodk32RO8QDarRPeWIGK8GxAlB/r8+xv\nVinHiLeMzz/Y0ndIcd2c1aDhZznEnXTUJ7XivWYcEJK3Cly77EIlcovChV0B\niJFyeOemrWuOHNCNwIOAEB1psjD+gd92LrdrLXhkaSqo6BzRME4QiO9OTZHc\njvlk\r\n=IfHu\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.3_1620234680175_0.27619268184255596"},"_hasShrinkwrap":false},"0.2.1":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.2.1","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"bin":{"nextjs-mf":"bin/nextjs-mf.js"},"devDependencies":{"prettier":"2.3.0","react":"17.0.2"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"_id":"@module-federation/nextjs-mf@0.2.1","dist":{"shasum":"ba0d389db7f8db2fa6dc906aeabe92dc04d0d217","integrity":"sha512-0DPdqlZ7mER4QpuwTHXc/3bLlitpDdLAHFwHdE+jG/A+A6dekSg7zQCgJmL2Py4x2vpO9pk49rdSzG/a40UIxg==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.2.1.tgz","fileCount":17,"unpackedSize":242088,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgoxfcCRA9TVsSAnZWagAAuwUP/0OnAi3cfLbc15dWlFTE\nn2Qh/xdJLexeSh8+P38dbyKxq6/pscInyaiJtDDUy7ML+HXGLIRqpAYaeC8E\nJSoOzQ+xwAzVh6+uS4mwjA0zLWumJ9oXgydrLiJkJuwe+Bb6Rdfo66SfWOOW\nQB7rNK96CDOy060/qRLUDkk9qfKWqNRQxogeWw/vJGou2QL+7gc49JvQikU1\n9q74bYvQ0nYBpL+THDDNS9R8o48za7D8XmYbAhl63uNy+FhAZX867d7D9ck8\nYYy+xtbBrdPiKVJ5RTy4jbrpM7Hm5v1HKkNyoFVA8HvZHtUum8jOINXjMwaZ\nDwkPbhjcQAUWEVqTLIU19y3R1ypDtO8bOHD/p0TAMP1K64ku4N3036tKLuH1\npSLv1KxCvhr5Y8lUG7VFE4F6AOM2nKX8wTJQG7IH48Tkbn+zv1SowBU4uapV\nGoJyiKEfd7E+8/bgYCMSSV9g/CQnfDPxzrL0OyXwNx6k+VhJ/nkuCWttNRBc\nIskyu/AhZECLYA+g7jojRNGOD7XKZDPtgO2qcxrfexulG+zm0akItry6217m\nZHAdwuANUBFavgIITCHHu+PmsQqtyhlM0IBiW/IpBhYKrnYnR7U0iR2VFYf4\nQhKkrW3iUsBaOnVoks0eKi0RXj85RDRRJE1NWKkoc+G0UzDEzhq1hERL398/\nYQmX\r\n=pG1y\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.2.1_1621301212364_0.19616350696953022"},"_hasShrinkwrap":false},"0.3.0":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.3.0","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"bin":{"nextjs-mf":"bin/nextjs-mf.js"},"devDependencies":{"prettier":"2.3.0","react":"17.0.2"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"_id":"@module-federation/nextjs-mf@0.3.0","dist":{"shasum":"3ff2bd98a46e9e043bf5a4be4cbffe41a99b93bb","integrity":"sha512-mzpB2+nPQxWq1ILGmu11q6WNUh8bAUfQFeg9kmteVARCxuQ5qd8nmGEeo0d+hYUwKI/T6uA8TV12RQcNdhFevg==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.3.0.tgz","fileCount":17,"unpackedSize":242256,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgqFxKCRA9TVsSAnZWagAACYMP/1kDOHVoaRc2CUsQkb7q\nTlsw0a+aTmrNpUSRdD5EF1h5udNg7jwDUDUuzrhbknplAsbHoPXfrAkiT8Hr\nbuRMOiLKcOmR3HnHX5As09TgKTDgIuYCEobWpCAuufgR0ChTIGIb0QgQrUep\niGE7s9/17lRxwF+ejBlcvWtDy77L2+zgLV4z65lcUm83tQLKSI06b3wg5j81\n/4y8dU1uTHLeXHFrG1o7N21ZyhS8XPEmOpF8nuiSXp1wRGIj8Amb6SODsLi8\ndjbmdfxfsD++JatQthv33NdDCle+4KXwjD89bStIZpjIlD7VCHQyKzJDi12d\nfTX6rLVvoWBKZeM5Xznq0yG6uQ89SF22bGo244SHQJ4rPAwQjTBRakcv+2p9\nMkZvh1VSu0/+uoOg/49OfT4ASkPbWX+x0KDMdQAPoLY+ybXWGTuBSPvU8UkE\nBzZvy8ZU0leKMTQcrRFWsJw6OBr8DCl+lXONrtGr5PhSP82t0BC8zjqJW5kK\nT7Xsj0//j2fupdNGQtsXzSW7U2uvbb3Y7W2mHTQMzNpgJitEvF8v4gVtrcHR\n3Vvnmkdy7KqTtAXSjaxBZk9swSTdSK/rAe0jnLSOJ8DUHLa6uLn8Cj6GD0k9\nERWeT8A7fJZOPjEmpAyooaUpUgUM4Jyxryi5Smjho6/oWhIZu8eZHsg3wT+Z\nBCtY\r\n=e0g+\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.3.0_1621646409588_0.9681946711361447"},"_hasShrinkwrap":false},"0.0.1-alhpa.3":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.1-alhpa.3","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nexjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"_id":"@module-federation/nextjs-mf@0.0.1-alhpa.3","dist":{"shasum":"fe4bc6675a304f331ac2904649e7a8a694ecd2dd","integrity":"sha512-vN0JimY/jnz2iulD8ZRQkbPFV8mouQxyw0N097CCO9MNa1AwO2PM+uSggcBgJPE3VAgXWid1UGFiwnZY/NUHzg==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.1-alhpa.3.tgz","fileCount":22,"unpackedSize":256149,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJflblICRA9TVsSAnZWagAAFpoP+gL36rLb/xK4fq7A2nTO\nciM+vAI4ZayWknN9emZMNNEFhtieXMlr4uAuJtULSFrjrrFxBYRtFbizOTVn\nFvlSKelHXTxti2lXjPVB5rf+DBPhDTkLQL4MjwmCOPu6zYnhJId91RoQGf3q\nmqzDsZ2CJ9iLjv4eiGpucETUjlgXpwI77BC6Cb9OePyn2/AT6sNNLBZtz4OX\nrmQ6z65XpYYRaN+g5vC5YNLmqoiD4HUBAfLNiIbmXNgMSD1sLc+t2E6mW5yf\nDx2eD8df4PzppAg6Ys/FxKQfpB+DXP7fYTapOjdu2xY4nDHP90ScB7sGcjOM\nqcIJALrVOPnX8CXFV/PF2f5mlk+OCFXyfC3lQSyKzAtZBKShjEBB/lh0bGhJ\nDUGkgAX8pTDuq19Eing+zG+AZesELAvweoh96bAB69M4A3spU/TGYX3wx6pB\nZWEr36wvVeBX3ttqSxh3ReszfTetyGqMMK90z6YAytBETArzKEia7AVCXUR/\n7WYwDHzKhgSQsGtRlVwT8L8trtqWCh1CeAgIYNcteFpY+5cEPDA8TfgrWa+O\n6X2lRpueutsSHSnozazJcBhlKY27laV54iQ42wSaTZPozS9tbSaegopWp42S\ne95XSmceTbKK4DHsZ5pRuD+NzuCFt/1sAR4csyfglN8d9U8LHXq5wYdC3Jxg\n+m6Y\r\n=sW6N\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.1-alhpa.3_1603647816420_0.5289639080305275"},"_hasShrinkwrap":false},"0.1.0":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.1.0","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"bin":{"nextjs-mf":"bin/nextjs-mf.js"},"devDependencies":{"commander":"^6.2.0","prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"_id":"@module-federation/nextjs-mf@0.1.0","dist":{"shasum":"9b3e956fedbff49a661599fe8d391f51e42abfe7","integrity":"sha512-7M8YHQ2aVn6U6EmLih2cI15rixIywApmlAXROC8cwPvRFC9Y/EORbSdRFTYzMStED3Vn9may5oQPBU+JSGcdlA==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.1.0.tgz","fileCount":19,"unpackedSize":241550,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgD3o9CRA9TVsSAnZWagAApgsP/iXnSlHUDEO+m90EO6X7\nkTiSs5Wmm+P850NgEd8zk0xHG9D8EQDMvnWlSKs4E+pzG2x4vwGmpOXy7JVV\nDQENotKIfFOKUSswWDyrFGnLNnm5h56GBCy3shArFqFNWZ2SdWzkywF61jzy\n1lfNnmDhylzJH9TVEs+AB6fFxcyQzRRcrjRj8SU3CRQ8S/lEIbzbUcpZDmw4\nZxyXHnWxVCncSjorJfRgbb/s3qhah65sUaIGsCbdP5zEPXnJt27/RsnBwfKF\nxDI52U+XSrDKcf23K1YlZ8ibHTGokDtoVy5HOb5XeI3OqJOxEsofdD3aaC1G\nFZOdc4AlLowa2WRos4nvnNHtOsguijnT7OFjk1o9l2KK9dMtt4ddIFFOHjke\n5xDlm5+9h6k6KKhQuW+MNezaOxdfgq17tfdRME+WZ6BbukiEIiheA+WSNSGN\nQLbEymTd9FCxXQ1aT/fc0x48X0ZE5TI6lYVu/LZ8MuHl7/wxCbKGE+SvAiaC\nHRZLPX70Qa48vlvSHTPljI5AFvNjhq+uGaQ10K4Gxl8KhG5J2n3IJ32Rtv3T\ngald3EUp8aGd5DgHvEsKVh79+KPbpfJhBS944itofdgUOhoumfs3gBEYC338\nU2anosr5PwfohRtNdQ0JyzhbLZIrnMuyF3i2VJUtlygFRutkeqh/+7kOHDhz\nZlMD\r\n=hxo0\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.1.0_1611627068709_0.808751606313137"},"_hasShrinkwrap":false},"1.0.0-beta.1":{"public":true,"name":"@module-federation/nextjs-mf","version":"1.0.0-beta.1","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"2.3.0","react":"17.0.2","react-dom":"^17.0.2","webpack":"^5.38.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"readmeFilename":"README.md","readme":"# Module Federation For Next.js\n\nThis plugin enables Module Federation on Next.js\n\nThis is a workaround to hard limitations caused by Next.js being synchronous.\n\nI am working on an update to Webpack Core which will circumvent projects with older architecture (like Next.js).\n\nThis is a stable and viable workaround to leverage Module Federation [until this issue is resolved](https://github.com/webpack/webpack/issues/11811).\n\n### Supports\n\n- next ^10.2.x\n- SSG\n- SSR\n\n**Once I PR webpack, this workaround will no longer be required.**\n\n# Check out our book\n\n| <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\"><img src=\"./docs/MFCover.png\" alt='Practical Module Federation Book' width=\"95%\"/></a> | <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\">We will be actively updating this book over the next year as we learn more about best practices and what issues people are running into with Module Federation, as well as with every release of Webpack as it moves towards a release candidate and release. So with your one purchase you are buying a whole year of updates.</a> |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n\n#### Demo\n\nYou can see it in action here: https://github.com/module-federation/module-federation-examples/tree/master/nextjs\n\n## How to use on a fresh nextjs app\n\n```sh\nyarn global add @module-federation/nextjs-mf\n```\n\nRun this inside of a fresh nextjs install.\n\n```sh\nnextjs-mf upgrade -p 3001\n```\n\n## How to use on an existing app\n\n1. Use `withModuleFederation` in your `next.config.js`\n\n```js\n// next.config.js\nconst { withModuleFederation } = require(\"@module-federation/nextjs-mf\");\nconst path = require(\"path\");\n\nmodule.exports = {\n  webpack: (config, options) => {\n    const { buildId, dev, isServer, defaultLoaders, webpack } = options;\n    const mfConf = {\n      mergeRuntime: true, //this is experimental,  read below\n      name: \"next2\",\n      library: { type: config.output.libraryTarget, name: \"next2\" },\n      filename: \"static/runtime/remoteEntry.js\",\n      remotes: {\n        // For SSR, resolve to disk path (or you can use code streaming if you have access)\n        next1: isServer\n          ? path.resolve(\n              __dirname,\n              \"../next1/.next/server/static/runtime/remoteEntry.js\"\n            )\n          : \"next1\", // for client, treat it as a global\n      },\n      exposes: {\n        \"./nav\": \"./components/nav\",\n      },\n      shared: [\"lodash\"],\n    };\n    // Configures ModuleFederation and other Webpack properties\n    withModuleFederation(config, options, mfConf);\n\n    return config;\n  },\n};\n```\n\n2. Add the `patchSharingSrc` to `_document.js`. This will solve the react sharing issue.\n\n```jsx\nimport Document, { Html, Head, Main, NextScript } from \"next/document\";\nimport { patchSharingSrc } from \"@module-federation/nextjs-mf\";\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      <Html>\n        {patchSharingSrc()}\n        <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n        <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n```\n\n3. Use top-level-await\n\n```js\n// some-component.js\nconst Nav = (await import(\"../components/nav\")).default;\nconst _ = await import(\"lodash\");\n```\n\n## Experimental\n\nUse at your own risk.\n\nNext.js uses `runtimeChunk:'single'`\nWhich forces us to also add the webpack script itself. Till this is fixed in webpack, heres a plugin that will merge the runtimes back together for MF\n\nThis can be enabled via `mergeRuntime` flag. This is not part of Module Federation, its part of this plugin.\n\n`withModuleFederation(config, options, {mergeRuntime:true,...mfConf})`\n\nYou can manually add it as follows\n\n```js\nconst { MergeRuntime } = require(\"@module-federation/nextjs-mf\");\n// in your next config.\nconfig.plugins.push(new MergeRuntime({ filename: \"remoteEntry\" }));\n```\n\nThis allows the following to be done\n\n```diff\n- <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n- <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n+ <script src=\"http://localhost:3000/_next/static/remoteEntryMerged.js\" />\n```\n","_id":"@module-federation/nextjs-mf@1.0.0-beta.1","dist":{"shasum":"1fbee8485e7c00a2f592252ef07c54fd0e7dd007","integrity":"sha512-XPlfh+0oscUQOK7q3xDyQjEn6LeyJuuk2pmWitkZKw/SVNR2yEpxTdje4A9hZxvho/npq3AKDWbH2+WvHXVF1g==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-1.0.0-beta.1.tgz","fileCount":12,"unpackedSize":240999,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJguAkACRA9TVsSAnZWagAAhCYP/3+6afF8//+j2jPhxcs0\nS4m3XxPDoX3mPhb7agAMqflld0x4ddcpU8zKsky/tfJbJLBmWh+LQNnXN1kV\nzlXLjn8d3gKQNc2AGqAF9DqGlGvOqIsMAJ6+//UAoZOKtgyaIFHbJqwcuFFk\nTHYJ3duRnZuhP2nA8jHOWOOqdYWbsmTNboS9KtJyZ7J2vyp7uU4wPTZp27nq\nKC6RGYXuXlM0j+DqyXOhIH3xgBN7Dg9XzcCGon+kGtvvqbORp9WG3ldlFpBq\nJh9G06nSrNc6awV5VkzlK+jYDZfaClE45vEA8UP/rKrtRpvPs7hW4wJlvkPP\nry2WGihJBtRsPf9OE1T+tqmKHehRF60uevCueM4W0oYU70XANkpx7uzYXPkn\nS7zWYQTKYBTNPaQr5JKN6TQ97fbhKkgFR/t+KnC5sHk1jDBAP6cHkEzApEEX\nHgSN9U4IE/8wtrugKQZXzCXyGlx/6eT+PnbXUovbzWFlo9rpo6QBEY+0fhzZ\nhBN+qVaGQ+cTf9Fwh44G2ZWg6IGv0/boIoTkBWJrAzA205LrcUsehKAl7Fnv\nQh1PXqWHLTMC75AY0/mqGj3VPzCah0KLBnpQfuTs3KlzgY2lIcYTJN6CYhKg\nMOZoeygf8Z8jqWNQftqk/a6V8FlpSHIGguHKPV5EOlEEbRca8D63b1aCz2oV\nb4RP\r\n=Q9Jd\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_1.0.0-beta.1_1622673664557_0.600875934188126"},"_hasShrinkwrap":false},"1.0.0-beta.0":{"public":true,"name":"@module-federation/nextjs-mf","version":"1.0.0-beta.0","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"2.3.0","react":"17.0.2","react-dom":"^17.0.2","webpack":"^5.38.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"readmeFilename":"README.md","readme":"# Module Federation For Next.js\n\nThis plugin enables Module Federation on Next.js\n\nThis is a workaround to hard limitations caused by Next.js being synchronous.\n\nI am working on an update to Webpack Core which will circumvent projects with older architecture (like Next.js).\n\nThis is a stable and viable workaround to leverage Module Federation [until this issue is resolved](https://github.com/webpack/webpack/issues/11811).\n\n### Supports\n\n- next ^10.2.x\n- SSG\n- SSR\n\n**Once I PR webpack, this workaround will no longer be required.**\n\n# Check out our book\n\n| <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\"><img src=\"./docs/MFCover.png\" alt='Practical Module Federation Book' width=\"95%\"/></a> | <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\">We will be actively updating this book over the next year as we learn more about best practices and what issues people are running into with Module Federation, as well as with every release of Webpack as it moves towards a release candidate and release. So with your one purchase you are buying a whole year of updates.</a> |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n\n#### Demo\n\nYou can see it in action here: https://github.com/module-federation/module-federation-examples/tree/master/nextjs\n\n## How to use on a fresh nextjs app\n\n```sh\nyarn global add @module-federation/nextjs-mf\n```\n\nRun this inside of a fresh nextjs install.\n\n```sh\nnextjs-mf upgrade -p 3001\n```\n\n## How to use on an existing app\n\n1. Use `withModuleFederation` in your `next.config.js`\n\n```js\n// next.config.js\nconst { withModuleFederation } = require(\"@module-federation/nextjs-mf\");\nconst path = require(\"path\");\n\nmodule.exports = {\n  webpack: (config, options) => {\n    const { buildId, dev, isServer, defaultLoaders, webpack } = options;\n    const mfConf = {\n      mergeRuntime: true, //this is experimental,  read below\n      name: \"next2\",\n      library: { type: config.output.libraryTarget, name: \"next2\" },\n      filename: \"static/runtime/remoteEntry.js\",\n      remotes: {\n        // For SSR, resolve to disk path (or you can use code streaming if you have access)\n        next1: isServer\n          ? path.resolve(\n              __dirname,\n              \"../next1/.next/server/static/runtime/remoteEntry.js\"\n            )\n          : \"next1\", // for client, treat it as a global\n      },\n      exposes: {\n        \"./nav\": \"./components/nav\",\n      },\n      shared: [\"lodash\"],\n    };\n    // Configures ModuleFederation and other Webpack properties\n    withModuleFederation(config, options, mfConf);\n\n    return config;\n  },\n};\n```\n\n2. Add the `patchSharingSrc` to `_document.js`. This will solve the react sharing issue.\n\n```jsx\nimport Document, { Html, Head, Main, NextScript } from \"next/document\";\nimport { patchSharingSrc } from \"@module-federation/nextjs-mf\";\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      <Html>\n        {patchSharingSrc()}\n        <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n        <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n```\n\n3. Use top-level-await\n\n```js\n// some-component.js\nconst Nav = (await import(\"../components/nav\")).default;\nconst _ = await import(\"lodash\");\n```\n\n## Experimental\n\nUse at your own risk.\n\nNext.js uses `runtimeChunk:'single'`\nWhich forces us to also add the webpack script itself. Till this is fixed in webpack, heres a plugin that will merge the runtimes back together for MF\n\nThis can be enabled via `mergeRuntime` flag. This is not part of Module Federation, its part of this plugin.\n\n`withModuleFederation(config, options, {mergeRuntime:true,...mfConf})`\n\nYou can manually add it as follows\n\n```js\nconst { MergeRuntime } = require(\"@module-federation/nextjs-mf\");\n// in your next config.\nconfig.plugins.push(new MergeRuntime({ filename: \"remoteEntry\" }));\n```\n\nThis allows the following to be done\n\n```diff\n- <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n- <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n+ <script src=\"http://localhost:3000/_next/static/remoteEntryMerged.js\" />\n```\n","_id":"@module-federation/nextjs-mf@1.0.0-beta.0","dist":{"shasum":"f1a111100f95bc3806821defa210f942128c8839","integrity":"sha512-V++Zqu1iF0cByO/v86jiY0iKdQl+K+++2L1y/+QpZT58NRxisJaypF2lLpI2YueGbXscUSiVcnJ+NYR0JD9ScQ==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-1.0.0-beta.0.tgz","fileCount":16,"unpackedSize":241913,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJguAY7CRA9TVsSAnZWagAA9jEQAI3sGv4isaCVPlpn9JSw\n1uEvflGnFiKJ8iSrb6fmF+03FfT5eeESlZjsfx7kDtK3Q1WfwmEkRGeN7OeH\nwcD30uqBJMQhl1257/2/H2gNVHgi6i1MaekQ7WBdZzdCV9GHup24PKFR+5tu\nYXNeMUdsZ6YzHqGL7YZNAiW7AXBbaUt/801zo0Z2tNh+wGmgYg5dskoCpXPz\nEfKpiZImiLmgiJgbNYLwL4fvj2td1l1VEx1YGTe3ObJTE7eK+omrtBLnJAtJ\nWSbAn38x01KaGQTk+pY1FgUX4BBFz5UMDqO4PrdytUB06iSAksT2UcsPZ7fL\nZnPZPnGUDhtKEnndYi39BKJ17DZthk7aDzU5swk4/gjKkjnkCFZ1YBeSIn+f\n7RiBKTxdIC5GylAs6RNmEyBnwraTvo5/BkNlsf5t/uBQ2TTc7TSVocf5JWvV\ntKjH+640W1BKYugzO0zwJlnMqbc35NATdkt/ZCv6wFPR090wGKuufeCkMnZ+\n4gr+2oe/4R+OFKkou+J2VMBI1Cop7JLFL+X7P+rjx6QY5SeXKWUbNBN0zMlr\nCNuxA0Jm5JpaebF9VlAgrt9goo9QRKzx1YRTZknsVkAF6uDyul0kMi3UyLjr\nlzedptkclCepa7dPi3XSa8sAQlxC04mEiKoA/CrcyQnIRVh0ZzOslET+E1KS\n+lAZ\r\n=NVj6\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_1.0.0-beta.0_1622672954953_0.3770670402527456"},"_hasShrinkwrap":false},"1.0.0-beta.4":{"public":true,"name":"@module-federation/nextjs-mf","version":"1.0.0-beta.4","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"2.3.0","react":"17.0.2","react-dom":"^17.0.2","webpack":"^5.38.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"readmeFilename":"README.md","readme":"# Module Federation For Next.js\n\nThis plugin enables Module Federation on Next.js\n\nThis is a workaround to hard limitations caused by Next.js being synchronous.\n\nI am working on an update to Webpack Core which will circumvent projects with older architecture (like Next.js).\n\nThis is a stable and viable workaround to leverage Module Federation [until this issue is resolved](https://github.com/webpack/webpack/issues/11811).\n\n### Supports\n\n- next ^10.2.x\n- SSG\n- SSR\n\n**Once I PR webpack, this workaround will no longer be required.**\n\n# Check out our book\n\n| <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\"><img src=\"./docs/MFCover.png\" alt='Practical Module Federation Book' width=\"95%\"/></a> | <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\">We will be actively updating this book over the next year as we learn more about best practices and what issues people are running into with Module Federation, as well as with every release of Webpack as it moves towards a release candidate and release. So with your one purchase you are buying a whole year of updates.</a> |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n\n#### Demo\n\nYou can see it in action here: https://github.com/module-federation/module-federation-examples/tree/master/nextjs\n\n## How to use on a fresh nextjs app\n\n```sh\nyarn global add @module-federation/nextjs-mf\n```\n\nRun this inside of a fresh nextjs install.\n\n```sh\nnextjs-mf upgrade -p 3001\n```\n\n## How to use on an existing app\n\n1. Use `withModuleFederation` in your `next.config.js`\n\n```js\n// next.config.js\nconst { withModuleFederation } = require(\"@module-federation/nextjs-mf\");\nconst path = require(\"path\");\n\nmodule.exports = {\n  webpack: (config, options) => {\n    const { buildId, dev, isServer, defaultLoaders, webpack } = options;\n    const mfConf = {\n      mergeRuntime: true, //this is experimental,  read below\n      name: \"next2\",\n      library: { type: config.output.libraryTarget, name: \"next2\" },\n      filename: \"static/runtime/remoteEntry.js\",\n      remotes: {\n        // For SSR, resolve to disk path (or you can use code streaming if you have access)\n        next1: isServer\n          ? path.resolve(\n              __dirname,\n              \"../next1/.next/server/static/runtime/remoteEntry.js\"\n            )\n          : \"next1\", // for client, treat it as a global\n      },\n      exposes: {\n        \"./nav\": \"./components/nav\",\n      },\n      shared: [\"lodash\"],\n    };\n    // Configures ModuleFederation and other Webpack properties\n    withModuleFederation(config, options, mfConf);\n\n    return config;\n  },\n};\n```\n\n2. Add the `patchSharingSrc` to `_document.js`. This will solve the react sharing issue.\n\n```jsx\nimport Document, { Html, Head, Main, NextScript } from \"next/document\";\nimport { patchSharingSrc } from \"@module-federation/nextjs-mf\";\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      <Html>\n        {patchSharingSrc()}\n        <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n        <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n```\n\n3. Use top-level-await\n\n```js\n// some-component.js\nconst Nav = (await import(\"../components/nav\")).default;\nconst _ = await import(\"lodash\");\n```\n\n## Experimental\n\nUse at your own risk.\n\nNext.js uses `runtimeChunk:'single'`\nWhich forces us to also add the webpack script itself. Till this is fixed in webpack, heres a plugin that will merge the runtimes back together for MF\n\nThis can be enabled via `mergeRuntime` flag. This is not part of Module Federation, its part of this plugin.\n\n`withModuleFederation(config, options, {mergeRuntime:true,...mfConf})`\n\nYou can manually add it as follows\n\n```js\nconst { MergeRuntime } = require(\"@module-federation/nextjs-mf\");\n// in your next config.\nconfig.plugins.push(new MergeRuntime({ filename: \"remoteEntry\" }));\n```\n\nThis allows the following to be done\n\n```diff\n- <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n- <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n+ <script src=\"http://localhost:3000/_next/static/remoteEntryMerged.js\" />\n```\n","_id":"@module-federation/nextjs-mf@1.0.0-beta.4","dist":{"shasum":"1f33173980809f7638ed88b5e98a41198f26abac","integrity":"sha512-2+lH1lpfF7eIdnxEdwnGbqVw5+IMSljlgw0NXkTzhNeH3NZ577eVeeCwfyJJ4i9Znqeqao3DN7K4Qrv1zgX/pQ==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-1.0.0-beta.4.tgz","fileCount":12,"unpackedSize":240885,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJguBEZCRA9TVsSAnZWagAARUQP/2N71p2LQrZynQR63urj\nmSGZq5z/57vfT6gGfNkTgFE1I5ABKdufRz1Up7t8sj6zmfL/bdo+QtBWuouj\nTtj5LoXBaBhDT2xCcRpNOpKgt6sCwP9CdMbNQlFhQcRT7mbU5DW6Vco0i0jV\nx2XyrUw/vIRziTE34hcVODO14v1lx7vCypPZgobRJ5Mnk2ffzIQwwBCjrH88\nM+6/owNtCEtkXjelErbBYJ2Uz1XPioaXqxDa/QnvIDuFUEz4lm3GGvIeY306\ngHsXBsKDh9Ody+whSEfyClc6bhKkghjCelUu58x230VRludbRb+Gu1QQi2iX\nlc7RRvz0/HXK34I+vLCCwpClNC0om7KEl1dhpiOBjtN6to9RiFl0N1CkKS58\nBhaGNwl1sJiRcaPWma1fh6xGDoMYNV8ziJdvnZrZuFVeM38gxecpqZDKFarK\nhBE6IeaIzR1KJMpfWPcvhUgqdDb1+5oqAcFSmoOZPhrv6uQcqbnpL6J3BRRl\nHElBU4b1cqi1QJpVBcplbN1dP5Z0pAaBHiPxUXmbzCmXTuucH4bJdyvCKpmn\n8l6hMVqZ5CSKcA1fxhZM9qBwFuqget0Ktgv9RKtVKlMvJWxe8W1zgiJcj33H\nj2JCq6qPKgicnfSkVlf9frgbsyvzSNd7B+DuIC7LcxEpgFoH9pgSfhHLWVPL\nvL0L\r\n=2WP6\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_1.0.0-beta.4_1622675737407_0.12832347939231648"},"_hasShrinkwrap":false},"1.0.0-beta.3":{"public":true,"name":"@module-federation/nextjs-mf","version":"1.0.0-beta.3","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"2.3.0","react":"17.0.2","react-dom":"^17.0.2","webpack":"^5.38.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"readmeFilename":"README.md","readme":"# Module Federation For Next.js\n\nThis plugin enables Module Federation on Next.js\n\nThis is a workaround to hard limitations caused by Next.js being synchronous.\n\nI am working on an update to Webpack Core which will circumvent projects with older architecture (like Next.js).\n\nThis is a stable and viable workaround to leverage Module Federation [until this issue is resolved](https://github.com/webpack/webpack/issues/11811).\n\n### Supports\n\n- next ^10.2.x\n- SSG\n- SSR\n\n**Once I PR webpack, this workaround will no longer be required.**\n\n# Check out our book\n\n| <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\"><img src=\"./docs/MFCover.png\" alt='Practical Module Federation Book' width=\"95%\"/></a> | <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\">We will be actively updating this book over the next year as we learn more about best practices and what issues people are running into with Module Federation, as well as with every release of Webpack as it moves towards a release candidate and release. So with your one purchase you are buying a whole year of updates.</a> |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n\n#### Demo\n\nYou can see it in action here: https://github.com/module-federation/module-federation-examples/tree/master/nextjs\n\n## How to use on a fresh nextjs app\n\n```sh\nyarn global add @module-federation/nextjs-mf\n```\n\nRun this inside of a fresh nextjs install.\n\n```sh\nnextjs-mf upgrade -p 3001\n```\n\n## How to use on an existing app\n\n1. Use `withModuleFederation` in your `next.config.js`\n\n```js\n// next.config.js\nconst { withModuleFederation } = require(\"@module-federation/nextjs-mf\");\nconst path = require(\"path\");\n\nmodule.exports = {\n  webpack: (config, options) => {\n    const { buildId, dev, isServer, defaultLoaders, webpack } = options;\n    const mfConf = {\n      mergeRuntime: true, //this is experimental,  read below\n      name: \"next2\",\n      library: { type: config.output.libraryTarget, name: \"next2\" },\n      filename: \"static/runtime/remoteEntry.js\",\n      remotes: {\n        // For SSR, resolve to disk path (or you can use code streaming if you have access)\n        next1: isServer\n          ? path.resolve(\n              __dirname,\n              \"../next1/.next/server/static/runtime/remoteEntry.js\"\n            )\n          : \"next1\", // for client, treat it as a global\n      },\n      exposes: {\n        \"./nav\": \"./components/nav\",\n      },\n      shared: [\"lodash\"],\n    };\n    // Configures ModuleFederation and other Webpack properties\n    withModuleFederation(config, options, mfConf);\n\n    return config;\n  },\n};\n```\n\n2. Add the `patchSharingSrc` to `_document.js`. This will solve the react sharing issue.\n\n```jsx\nimport Document, { Html, Head, Main, NextScript } from \"next/document\";\nimport { patchSharingSrc } from \"@module-federation/nextjs-mf\";\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      <Html>\n        {patchSharingSrc()}\n        <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n        <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n```\n\n3. Use top-level-await\n\n```js\n// some-component.js\nconst Nav = (await import(\"../components/nav\")).default;\nconst _ = await import(\"lodash\");\n```\n\n## Experimental\n\nUse at your own risk.\n\nNext.js uses `runtimeChunk:'single'`\nWhich forces us to also add the webpack script itself. Till this is fixed in webpack, heres a plugin that will merge the runtimes back together for MF\n\nThis can be enabled via `mergeRuntime` flag. This is not part of Module Federation, its part of this plugin.\n\n`withModuleFederation(config, options, {mergeRuntime:true,...mfConf})`\n\nYou can manually add it as follows\n\n```js\nconst { MergeRuntime } = require(\"@module-federation/nextjs-mf\");\n// in your next config.\nconfig.plugins.push(new MergeRuntime({ filename: \"remoteEntry\" }));\n```\n\nThis allows the following to be done\n\n```diff\n- <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n- <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n+ <script src=\"http://localhost:3000/_next/static/remoteEntryMerged.js\" />\n```\n","_id":"@module-federation/nextjs-mf@1.0.0-beta.3","dist":{"shasum":"4aa232a9ac0e2982971b4cad90b98077f5c2ca1c","integrity":"sha512-LSv5dM5HWE+ur+lmMwssvVnXyvH6HHDDtpYDxt7h9ezAD0coBCuLHDBrr4jZkWt+a3N3qI4dQ1coWqtFYIYLBg==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-1.0.0-beta.3.tgz","fileCount":12,"unpackedSize":240997,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJguA+vCRA9TVsSAnZWagAAamoP/R2WMr5OB9g/CVS1vjHV\n/pF1XWP4agqBJ5Y184DVw0w2SONwoYn/tjRyFwUau0hI5MfjqYpb9TBajTgD\nS0OREcjVaFCcAjKt8pGLLc2IajldRp2naylkiRW1GdmR9Ozh9yHfA4ijz4v6\nF+LG4jLF2InSVsZc94UV6fEho6ApF/XJzTdqDe1Rl0H9+xCiOmMoFP8g4Nvp\nRCm5g1700mu3VWqdiNqrMIqcwbS2jZ1doMpNZrAEYNeeB1t8AMiLOhEYFXs8\nxLcNJeAZvXDdgSe5dxiwzvcGZ4H36lCoPBI/PwKceIK352J7k5fN24JsBO0x\n0v33L1+/YLRLmcCEjwJ6uYblKPuV+5gk1D/at6mHO6OK1xkSL/yIpU5ct/IC\nXsGXnotFxO+3c7mEHTWlicDwsvWb5ZIaZJEJglt2D1V56OcP56Ja5YDNRU1K\nZKdnANn3LW5TeiXWwQlOF8vGJ6oVtgK6l/nWw5pTa8pZ1VK5nWZ5pAxTcA4k\nTyR8Zv+V726MCuXiiMRzvt5wMaou4FQ1IyU/3nyINMQljVkr66ESW9Qzbe6z\nyygPgKdzXfpjOznIfWBcgMIrDLYseoOe8JDpu2xZwdlsoCDwwRS0psS4lAyo\nQLc/M1q1Tfymmgm5TvbQYkZcVHWoE9BBTqUqNCanqAYIyDd5W1dbeHKCEMGX\n6GaR\r\n=OpxH\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_1.0.0-beta.3_1622675374872_0.9243998887491736"},"_hasShrinkwrap":false},"1.0.0-beta.2":{"public":true,"name":"@module-federation/nextjs-mf","version":"1.0.0-beta.2","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"2.3.0","react":"17.0.2","react-dom":"^17.0.2","webpack":"^5.38.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"readmeFilename":"README.md","readme":"# Module Federation For Next.js\n\nThis plugin enables Module Federation on Next.js\n\nThis is a workaround to hard limitations caused by Next.js being synchronous.\n\nI am working on an update to Webpack Core which will circumvent projects with older architecture (like Next.js).\n\nThis is a stable and viable workaround to leverage Module Federation [until this issue is resolved](https://github.com/webpack/webpack/issues/11811).\n\n### Supports\n\n- next ^10.2.x\n- SSG\n- SSR\n\n**Once I PR webpack, this workaround will no longer be required.**\n\n# Check out our book\n\n| <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\"><img src=\"./docs/MFCover.png\" alt='Practical Module Federation Book' width=\"95%\"/></a> | <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\">We will be actively updating this book over the next year as we learn more about best practices and what issues people are running into with Module Federation, as well as with every release of Webpack as it moves towards a release candidate and release. So with your one purchase you are buying a whole year of updates.</a> |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n\n#### Demo\n\nYou can see it in action here: https://github.com/module-federation/module-federation-examples/tree/master/nextjs\n\n## How to use on a fresh nextjs app\n\n```sh\nyarn global add @module-federation/nextjs-mf\n```\n\nRun this inside of a fresh nextjs install.\n\n```sh\nnextjs-mf upgrade -p 3001\n```\n\n## How to use on an existing app\n\n1. Use `withModuleFederation` in your `next.config.js`\n\n```js\n// next.config.js\nconst { withModuleFederation } = require(\"@module-federation/nextjs-mf\");\nconst path = require(\"path\");\n\nmodule.exports = {\n  webpack: (config, options) => {\n    const { buildId, dev, isServer, defaultLoaders, webpack } = options;\n    const mfConf = {\n      mergeRuntime: true, //this is experimental,  read below\n      name: \"next2\",\n      library: { type: config.output.libraryTarget, name: \"next2\" },\n      filename: \"static/runtime/remoteEntry.js\",\n      remotes: {\n        // For SSR, resolve to disk path (or you can use code streaming if you have access)\n        next1: isServer\n          ? path.resolve(\n              __dirname,\n              \"../next1/.next/server/static/runtime/remoteEntry.js\"\n            )\n          : \"next1\", // for client, treat it as a global\n      },\n      exposes: {\n        \"./nav\": \"./components/nav\",\n      },\n      shared: [\"lodash\"],\n    };\n    // Configures ModuleFederation and other Webpack properties\n    withModuleFederation(config, options, mfConf);\n\n    return config;\n  },\n};\n```\n\n2. Add the `patchSharingSrc` to `_document.js`. This will solve the react sharing issue.\n\n```jsx\nimport Document, { Html, Head, Main, NextScript } from \"next/document\";\nimport { patchSharingSrc } from \"@module-federation/nextjs-mf\";\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      <Html>\n        {patchSharingSrc()}\n        <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n        <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n```\n\n3. Use top-level-await\n\n```js\n// some-component.js\nconst Nav = (await import(\"../components/nav\")).default;\nconst _ = await import(\"lodash\");\n```\n\n## Experimental\n\nUse at your own risk.\n\nNext.js uses `runtimeChunk:'single'`\nWhich forces us to also add the webpack script itself. Till this is fixed in webpack, heres a plugin that will merge the runtimes back together for MF\n\nThis can be enabled via `mergeRuntime` flag. This is not part of Module Federation, its part of this plugin.\n\n`withModuleFederation(config, options, {mergeRuntime:true,...mfConf})`\n\nYou can manually add it as follows\n\n```js\nconst { MergeRuntime } = require(\"@module-federation/nextjs-mf\");\n// in your next config.\nconfig.plugins.push(new MergeRuntime({ filename: \"remoteEntry\" }));\n```\n\nThis allows the following to be done\n\n```diff\n- <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n- <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n+ <script src=\"http://localhost:3000/_next/static/remoteEntryMerged.js\" />\n```\n","_id":"@module-federation/nextjs-mf@1.0.0-beta.2","dist":{"shasum":"0eca2aeac12f8ffa5b7a661e4b9722ed411f72e9","integrity":"sha512-/yO41lrUjkNyvWNnF35MlRfWymzMIBrS+gClnN2NpQ5BZMktDU5z97rvAeHpb8+FzlxYPIxEeXkaNUXnB3lryQ==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-1.0.0-beta.2.tgz","fileCount":12,"unpackedSize":240971,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJguArICRA9TVsSAnZWagAALnkP/3MmEByG/yR2e5Lv4sUV\nw9u5Ay549fs7wjcYqiM8zhiMeFa3nTZNZOZFAMHjSJ1XEQvBXj5CwRhBXoZ7\no8lySS2jIvmhf8uOJLeoO9nQVqy5+/YuzVm9ZQ4aZLhtHmK6/lx7MXe1D3tj\nehMGKC+eVMi15e/1I9qu3grdEWXvHyzdkUeqaJy+ttI1+bKejAMdZmAlI2By\n3RVB//3hkTyl8QySIOvNnfnty8f1ehxkw/4NYEjIK9viQfP5i1LuqFzA61W7\nhoh4RjcsADLQMovjMiLExQv/JMl/84Jf6SifacAXueaAeLr6/QIcftK2FEAU\nehA+bPS8uLiOUV9MNN1NRwlFeN2QK43AuyT6Bmx1M8eTD0maiFMgG7buI06e\nRZF3cIPghicZvdAai8gzhQ6YfZlj8S9/LNOguKrcwbbXrJFLtq/V4dFTNmE+\npR7I9yzCotL3QanfEQ9xbe879do8n5rDJxrJDqO0jRi+WXrC560Aq4JvGGT3\neLeBvpaoqJCTdj6F53CNva9y70oN31A/ue9L9Zetse1O+m80/vsn4RVy6UWR\nhTheCbPf9pbRzV3nbpxFS4kNlHHbtLHXLjVn4krKTfqPnk2/bhMIxT8WAhAw\nC3gFyMZemLXkwTz7DzOl0Q2CTXZxBt9dUTyJc5rmPgIZwRP+EDvgwEoFN/Cz\nNPFn\r\n=Bp7c\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_1.0.0-beta.2_1622674120063_0.7987218277281805"},"_hasShrinkwrap":false},"0.0.1-beta.8":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.1-beta.8","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"readmeFilename":"README.md","readme":"# Module Federation For Next.js\n\nThis plugin enables Module Federation on Next.js\n\nThis is a workaround to hard limitations caused by Next.js being synchronous.\n\nI am working on an update to Webpack Core which will circumvent projects with older architecture (like Next.js).\n\nThis is a stable and viable workaround to leverage Module Federation [until this issue is resolved](https://github.com/webpack/webpack/issues/11811).\n\n### Supports \n- next ^9.5.6\n- SSG\n- SSR\n\n**Once I PR webpack, this workaround will no longer be required.**\n\n# Check out our book\n\n| <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\"><img src=\"./docs/MFCover.png\" alt='Practical Module Federation Book' width=\"95%\"/></a> | <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\">We will be actively updating this book over the next year as we learn more about best practices and what issues people are running into with Module Federation, as well as with every release of Webpack as it moves towards a release candidate and release. So with your one purchase you are buying a whole year of updates.</a> |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n\n#### Demo\nYou can see it in action here: https://github.com/module-federation/module-federation-examples/tree/master/nextjs\n\n## How to use it\n1. Install Next ^9.5.6 (currently in canary)\n2. Use `withModuleFederation` in your `next.config.js`\n\n```js\n// next.config.js\nconst {\n  withModuleFederation,\n} = require(\"@module-federation/nextjs-mf\");\nconst path = require(\"path\");\n\nmodule.exports = {\n  webpack: (config, options) => {\n    const { buildId, dev, isServer, defaultLoaders, webpack } = options;\n    const mfConf = {\n      mergeRuntime: true, //this is experimental,  read below\n      name: \"next2\",\n      library: { type: config.output.libraryTarget, name: \"next2\" },\n      filename: \"static/runtime/remoteEntry.js\",\n      remotes: {\n        // For SSR, resolve to disk path (or you can use code streaming if you have access)\n        next1: isServer\n          ? path.resolve(\n              __dirname,\n              \"../next1/.next/server/static/runtime/remoteEntry.js\"\n            )\n          : \"next1\", // for client, treat it as a global\n      },\n      exposes: {\n        \"./nav\": \"./components/nav\",\n      },\n      shared: [\"lodash\"],\n    };\n    // Configures ModuleFederation and other Webpack properties\n    withModuleFederation(config, options, mfConf);\n\n    if (!isServer) {\n      config.output.publicPath = \"http://localhost:3001/_next/\";\n    }\n\n    return config;\n  },\n};\n```\n\n3. Add the `patchSharing` to `_document.js`. This will solve the react sharing issue.\n\n```jsx\nimport Document, { Html, Head, Main, NextScript } from \"next/document\";\nimport { patchSharing } from \"@module-federation/nextjs-mf\";\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      <Html>\n        {patchSharing()}\n        <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n        <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n```\n\n4. Use top-level-await\n\n```js\n// some-component.js\nconst Nav = (await import(\"../components/nav\")).default;\nconst _ = await import(\"lodash\");\n```\n\n## Experimental\n\nUse at your own risk.\n\nNext.js uses `runtimeChunk:'single'`\nWhich forces us to also add the webpack script itself. Till this is fixed in webpack, heres a plugin that will merge the runtimes back together for MF\n\nThis can be enabled via `mergeRuntime` flag. This is not part of Module Federation, its part of this plugin.\n\n```withModuleFederation(config, options, {mergeRuntime:true,...mfConf})```\n\nYou can manually add it as follows\n\n```js\nconst {MergeRuntime} = require(\"@module-federation/nextjs-mf\");\n// in your next config.\nconfig.plugins.push(new MergeRuntime({filename: 'remoteEntry'}));\n```\n\nThis allows the following to be done\n\n```diff\n  - <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n  - <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n  + <script src=\"http://localhost:3000/_next/static/remoteEntryMerged.js\" />\n```\n","_id":"@module-federation/nextjs-mf@0.0.1-beta.8","dist":{"shasum":"5401c95d9a8033076586907a94f7f93fc04b518c","integrity":"sha512-KBoJwH6DAko9hnJ9dIW+Glm5o+T/y8Dj6Kf5gBpY3jc9CFAXI/kv8FH3fm0aBI/sZlW2i4zp+pRnG+BtZ6P9SA==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.1-beta.8.tgz","fileCount":22,"unpackedSize":260626,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfmH5VCRA9TVsSAnZWagAAlH4P/3QblcShQQ7oxblBQncE\nimQ60WSG7ZEW5GZDE1EqE3J80D9nzDeTCQHloFXmcqKwuJEOFRdLVynNYrgz\ndDyk+sOqYT7AN4ZmMCKcnyvo7JfcVCNjX7bXf7w4VgyplsYLCJshz/KbojYu\nFIzou4NER3VU+g6WGBuu2gVGgxnvLsKXbZAs+w9vbtAE5tAqBNBqvU7c2oaT\n4NH2lbfzZTl1PrRRGFb2mRFTGXGIDMcIYQU9GLxrbyXLPS1Qc9XhpUXvCXMG\nvnAXSW+WgcGSLd4grsgOMEDRjpXHwdn6R6RiQHTlzkBdYoDUpZ76qLOqpfoM\nnV+KOKJfMY5x5AD8JJivB69Z7vbw3u2AcN64ekODkaPwrs7O2YngGTBkc8i9\nEETR76avH5JR+xRCKvLyUf7G9JQR82UNlyXKex07qFRoySdTT64qbtCwIw0d\nigSAWOA1QyZtjCwjfVCI+Tjm7udKVtHHdETRUue+itnLvyDv1iTOu++KNp8g\nbXOvrhbtGt1PDZOwC4Sc6S4fhLjFWpC7TS6RiASnOkiwEEBwrBEO+Jvzgol2\n1P6VcfN9UMac88URMuZRKiyK6bJ39KUCgdYFMJxU+tD1ckHjIxRWVFM/57Yc\n8gAIW/xDl0QeRI3Or1Fn/xQxFJLAeV52f6O4QzHkIWn4+B0Lk8fPY5Ki5D/7\njWZW\r\n=WjaU\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.1-beta.8_1603829332866_0.35837164158413914"},"_hasShrinkwrap":false},"0.0.1-beta.9":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.1-beta.9","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"readmeFilename":"README.md","readme":"# Module Federation For Next.js\n\nThis plugin enables Module Federation on Next.js\n\nThis is a workaround to hard limitations caused by Next.js being synchronous.\n\nI am working on an update to Webpack Core which will circumvent projects with older architecture (like Next.js).\n\nThis is a stable and viable workaround to leverage Module Federation [until this issue is resolved](https://github.com/webpack/webpack/issues/11811).\n\n### Supports \n- next ^9.5.6\n- SSG\n- SSR\n\n**Once I PR webpack, this workaround will no longer be required.**\n\n# Check out our book\n\n| <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\"><img src=\"./docs/MFCover.png\" alt='Practical Module Federation Book' width=\"95%\"/></a> | <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\">We will be actively updating this book over the next year as we learn more about best practices and what issues people are running into with Module Federation, as well as with every release of Webpack as it moves towards a release candidate and release. So with your one purchase you are buying a whole year of updates.</a> |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n\n#### Demo\nYou can see it in action here: https://github.com/module-federation/module-federation-examples/tree/master/nextjs\n\n## How to use it\n1. Install Next ^9.5.6 (currently in canary)\n2. Use `withModuleFederation` in your `next.config.js`\n\n```js\n// next.config.js\nconst {\n  withModuleFederation,\n} = require(\"@module-federation/nextjs-mf\");\nconst path = require(\"path\");\n\nmodule.exports = {\n  webpack: (config, options) => {\n    const { buildId, dev, isServer, defaultLoaders, webpack } = options;\n    const mfConf = {\n      mergeRuntime: true, //this is experimental,  read below\n      name: \"next2\",\n      library: { type: config.output.libraryTarget, name: \"next2\" },\n      filename: \"static/runtime/remoteEntry.js\",\n      remotes: {\n        // For SSR, resolve to disk path (or you can use code streaming if you have access)\n        next1: isServer\n          ? path.resolve(\n              __dirname,\n              \"../next1/.next/server/static/runtime/remoteEntry.js\"\n            )\n          : \"next1\", // for client, treat it as a global\n      },\n      exposes: {\n        \"./nav\": \"./components/nav\",\n      },\n      shared: [\"lodash\"],\n    };\n    // Configures ModuleFederation and other Webpack properties\n    withModuleFederation(config, options, mfConf);\n\n    if (!isServer) {\n      config.output.publicPath = \"http://localhost:3001/_next/\";\n    }\n\n    return config;\n  },\n};\n```\n\n3. Add the `patchSharing` to `_document.js`. This will solve the react sharing issue.\n\n```jsx\nimport Document, { Html, Head, Main, NextScript } from \"next/document\";\nimport { patchSharing } from \"@module-federation/nextjs-mf\";\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      <Html>\n        {patchSharing()}\n        <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n        <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n```\n\n4. Use top-level-await\n\n```js\n// some-component.js\nconst Nav = (await import(\"../components/nav\")).default;\nconst _ = await import(\"lodash\");\n```\n\n## Experimental\n\nUse at your own risk.\n\nNext.js uses `runtimeChunk:'single'`\nWhich forces us to also add the webpack script itself. Till this is fixed in webpack, heres a plugin that will merge the runtimes back together for MF\n\nThis can be enabled via `mergeRuntime` flag. This is not part of Module Federation, its part of this plugin.\n\n```withModuleFederation(config, options, {mergeRuntime:true,...mfConf})```\n\nYou can manually add it as follows\n\n```js\nconst {MergeRuntime} = require(\"@module-federation/nextjs-mf\");\n// in your next config.\nconfig.plugins.push(new MergeRuntime({filename: 'remoteEntry'}));\n```\n\nThis allows the following to be done\n\n```diff\n  - <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n  - <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n  + <script src=\"http://localhost:3000/_next/static/remoteEntryMerged.js\" />\n```\n","_id":"@module-federation/nextjs-mf@0.0.1-beta.9","dist":{"shasum":"b6abcf6a1de607e5a4e1add2fed2e78e1037b142","integrity":"sha512-6EhR0pF+ZU09ruF/qdEW6jK316dSKmyZg441uD0Xo0yw0nzeYFqnd/Al4vtxwWWQWFp6M4445oCVmFaM683smw==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.1-beta.9.tgz","fileCount":22,"unpackedSize":260694,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfmIWCCRA9TVsSAnZWagAATYIP/3wo6cfTBPY6TMPclkxU\nVzaCBImYD4jEMN3HUSabiE0v3SrYw5T1CEyXkOhM7/Yg62IPuzDuL2/Ivi5+\nYvs4mhEbgBrn1hZImZywIckW1zuNk4SPNqItbOEewlGBoGFx3AjQnLGCMMWr\nPsxOfab39eMJYkuUnT9KXKqRFZAE0bZn7KMAJfNonH0ltIB/6ssIqXd94meC\nWBtSKiOq91AxiHz02hbkLchIDbSY6ygzwNwseFrwLxo0xxzRAoYAcRjea4qM\nQ6E5SN9bIJJequO/m/oPylms+ZwKM/78E14IvZ0ifBJMzB7Cm6ggtMrmLY0N\nIO6TxqpTeFmc2XgZy+RXTYbLlHRsHaSiyOIMxmDC4BX5bK1JgEXexQK0sYA+\n+FdP1iKW4qGprf4Lvmku1sOQmofic3O5tBRU/6D5xSN8RPciglPCyL6DCmQc\nlRF2FWcJD+wOxZAIPlFSHTFJdgZrRhv8cyjqwkkutvNJt3LwzYFe3hWlDuvp\ntbCP+PGOu8FBkWRz+O2qZBb7yv2jJTlHRO2SbfqC5kTVh2AUmIayRDxIJF1M\nDxHgDml3YwHNjHONjf3erdiTvL0wljjfrwObC1a2QAz+rd+ugjHgStU+mJMD\n0A4dTkh+peGe6gY7EzZhApoL9ZU1OB1p/vz9GdMMz6qfp2hwDu7u2pOaL/GQ\nZ6Of\r\n=7d+x\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.1-beta.9_1603831170433_0.3687397769451317"},"_hasShrinkwrap":false},"0.0.1-beta.6":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.1-beta.6","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"readmeFilename":"README.md","readme":"# Module Federation For Next.js\n\nThis plugin enables Module Federation on Next.js\n\nThis is a workaround to hard limitations caused by Next.js being synchronous.\n\nI am working on an update to Webpack Core which will circumvent projects with older architecture (like Next.js).\n\nThis is a stable and viable workaround to leverage Module Federation [until this issue is resolved](https://github.com/webpack/webpack/issues/11811).\n\n### Supports \n- next ^9.5.6\n- SSG\n- SSR\n\n**Once I PR webpack, this workaround will no longer be required.**\n\n# Check out our book\n\n| <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\"><img src=\"./docs/MFCover.png\" alt='Practical Module Federation Book' width=\"95%\"/></a> | <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\">We will be actively updating this book over the next year as we learn more about best practices and what issues people are running into with Module Federation, as well as with every release of Webpack as it moves towards a release candidate and release. So with your one purchase you are buying a whole year of updates.</a> |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n\n#### Demo\nYou can see it in action here: https://github.com/module-federation/module-federation-examples/tree/master/nextjs\n\n## How to use it\n1. Install Next ^9.5.6 (currently in canary)\n2. Use `withModuleFederation` in your `next.config.js`\n\n```js\n// next.config.js\nconst {\n  withModuleFederation,\n} = require(\"@module-federation/nextjs-mf\");\nconst path = require(\"path\");\n\nmodule.exports = {\n  webpack: (config, options) => {\n    const { buildId, dev, isServer, defaultLoaders, webpack } = options;\n    const mfConf = {\n      mergeRuntime: true, //this is experimental,  read below\n      name: \"next2\",\n      library: { type: config.output.libraryTarget, name: \"next2\" },\n      filename: \"static/runtime/remoteEntry.js\",\n      remotes: {\n        // For SSR, resolve to disk path (or you can use code streaming if you have access)\n        next1: isServer\n          ? path.resolve(\n              __dirname,\n              \"../next1/.next/server/static/runtime/remoteEntry.js\"\n            )\n          : \"next1\", // for client, treat it as a global\n      },\n      exposes: {\n        \"./nav\": \"./components/nav\",\n      },\n      shared: [\"lodash\"],\n    };\n    // Configures ModuleFederation and other Webpack properties\n    withModuleFederation(config, options, mfConf);\n\n    if (!isServer) {\n      config.output.publicPath = \"http://localhost:3001/_next/\";\n    }\n\n    return config;\n  },\n};\n```\n\n3. Add the `patchSharing` to `_document.js`. This will solve the react sharing issue.\n\n```jsx\nimport Document, { Html, Head, Main, NextScript } from \"next/document\";\nimport { patchSharing } from \"@module-federation/nextjs-mf\";\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      <Html>\n        {patchSharing()}\n        <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n        <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n```\n\n4. Use top-level-await\n\n```js\n// some-component.js\nconst Nav = (await import(\"../components/nav\")).default;\nconst _ = await import(\"lodash\");\n```\n\n## Experimental\n\nUse at your own risk.\n\nNext.js uses `runtimeChunk:'single'`\nWhich forces us to also add the webpack script itself. Till this is fixed in webpack, heres a plugin that will merge the runtimes back together for MF\n\nThis can be enabled via `mergeRuntime` flag. This is not part of Module Federation, its part of this plugin.\n\n```withModuleFederation(config, options, {mergeRuntime:true,...mfConf})```\n\nYou can manually add it as follows\n\n```js\nconst {MergeRuntime} = require(\"@module-federation/nextjs-mf\");\n// in your next config.\nconfig.plugins.push(new MergeRuntime({filename: 'remoteEntry'}));\n```\n\nThis allows the following to be done\n\n```diff\n  - <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n  - <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n  + <script src=\"http://localhost:3000/_next/static/remoteEntryMerged.js\" />\n```\n","_id":"@module-federation/nextjs-mf@0.0.1-beta.6","dist":{"shasum":"606c8a5e34e86632a524243f6d0e35a21836d1bf","integrity":"sha512-uY0ZFithWYMeC0lXsX3t07WRGaP1kFG5/JxG9zFEZIHjZ1XMXFCHJ1qODmKttOBOXk8KOz0ke0+3oG87RRn2yA==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.1-beta.6.tgz","fileCount":22,"unpackedSize":259922,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfmHC5CRA9TVsSAnZWagAAEuoP/0z9V761HgiKp0O2KbSg\nFrPMj7GihqkX5Lx0sX7LrKjZQpEO8m0hvp1nKSw/syiuXPjyafkWK8OvzeJj\nZgM7772cckKJbEgMfARqeh39PbRGY4yaYYVgquaN4GHVCOVsZSP1RnvQNAJG\nehNvJnuaY3UxSoLCDW6A03L0IabPcaQSCO82OhqDhW0/+1KWmIHhOERHU7sU\nssvx0lRaCAHOhMh146T1KJV3wJB9RRPLBpxwgnG1y37/mBSx+Q0xZJ3zmmQf\nGzkTaytWD5n3RTGAN1TrYBnAd5j4+DYxi2X2EvP8b7OV+X/D8jzQmjOE0aPj\nGFZEPxibwnSm6UbSfTAskUOLC0nNgGrB9Qz8vJ2WUINrACCtJLK5tiupoiZp\nsg5RBuUOerbYfn9i3OItOiHAJcOR4A9Uz0nmkQch1wurc9Dwg+gFJvJFU1mU\nifmkMHEApiH9qjMXKVYThjbxupm4GqFHcOy5NtEdmpOPPZq4hyQSMlREZc9x\nhd45mtxvu0NLAz2MBEl3KmIwEmQxUeBK1VeAi/JHojeRxo6AxQ7nHGuNtC47\nVfJnuRf2RJfMMQTxcQPQZ6REuPAdShuARanXYu6H7xNvytwt+L1aYPcb7nMT\nTCECJukq3cgKWfF+x8x3fN6STNpy1oeukO4iDRpatYU4blKMGzcMROl7fNOO\nqxnB\r\n=/XSy\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.1-beta.6_1603825848568_0.852790172775894"},"_hasShrinkwrap":false},"0.0.1-beta.7":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.1-beta.7","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"readmeFilename":"README.md","readme":"# Module Federation For Next.js\n\nThis plugin enables Module Federation on Next.js\n\nThis is a workaround to hard limitations caused by Next.js being synchronous.\n\nI am working on an update to Webpack Core which will circumvent projects with older architecture (like Next.js).\n\nThis is a stable and viable workaround to leverage Module Federation [until this issue is resolved](https://github.com/webpack/webpack/issues/11811).\n\n### Supports \n- next ^9.5.6\n- SSG\n- SSR\n\n**Once I PR webpack, this workaround will no longer be required.**\n\n# Check out our book\n\n| <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\"><img src=\"./docs/MFCover.png\" alt='Practical Module Federation Book' width=\"95%\"/></a> | <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\">We will be actively updating this book over the next year as we learn more about best practices and what issues people are running into with Module Federation, as well as with every release of Webpack as it moves towards a release candidate and release. So with your one purchase you are buying a whole year of updates.</a> |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n\n#### Demo\nYou can see it in action here: https://github.com/module-federation/module-federation-examples/tree/master/nextjs\n\n## How to use it\n1. Install Next ^9.5.6 (currently in canary)\n2. Use `withModuleFederation` in your `next.config.js`\n\n```js\n// next.config.js\nconst {\n  withModuleFederation,\n} = require(\"@module-federation/nextjs-mf\");\nconst path = require(\"path\");\n\nmodule.exports = {\n  webpack: (config, options) => {\n    const { buildId, dev, isServer, defaultLoaders, webpack } = options;\n    const mfConf = {\n      mergeRuntime: true, //this is experimental,  read below\n      name: \"next2\",\n      library: { type: config.output.libraryTarget, name: \"next2\" },\n      filename: \"static/runtime/remoteEntry.js\",\n      remotes: {\n        // For SSR, resolve to disk path (or you can use code streaming if you have access)\n        next1: isServer\n          ? path.resolve(\n              __dirname,\n              \"../next1/.next/server/static/runtime/remoteEntry.js\"\n            )\n          : \"next1\", // for client, treat it as a global\n      },\n      exposes: {\n        \"./nav\": \"./components/nav\",\n      },\n      shared: [\"lodash\"],\n    };\n    // Configures ModuleFederation and other Webpack properties\n    withModuleFederation(config, options, mfConf);\n\n    if (!isServer) {\n      config.output.publicPath = \"http://localhost:3001/_next/\";\n    }\n\n    return config;\n  },\n};\n```\n\n3. Add the `patchSharing` to `_document.js`. This will solve the react sharing issue.\n\n```jsx\nimport Document, { Html, Head, Main, NextScript } from \"next/document\";\nimport { patchSharing } from \"@module-federation/nextjs-mf\";\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      <Html>\n        {patchSharing()}\n        <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n        <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n```\n\n4. Use top-level-await\n\n```js\n// some-component.js\nconst Nav = (await import(\"../components/nav\")).default;\nconst _ = await import(\"lodash\");\n```\n\n## Experimental\n\nUse at your own risk.\n\nNext.js uses `runtimeChunk:'single'`\nWhich forces us to also add the webpack script itself. Till this is fixed in webpack, heres a plugin that will merge the runtimes back together for MF\n\nThis can be enabled via `mergeRuntime` flag. This is not part of Module Federation, its part of this plugin.\n\n```withModuleFederation(config, options, {mergeRuntime:true,...mfConf})```\n\nYou can manually add it as follows\n\n```js\nconst {MergeRuntime} = require(\"@module-federation/nextjs-mf\");\n// in your next config.\nconfig.plugins.push(new MergeRuntime({filename: 'remoteEntry'}));\n```\n\nThis allows the following to be done\n\n```diff\n  - <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n  - <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n  + <script src=\"http://localhost:3000/_next/static/remoteEntryMerged.js\" />\n```\n","_id":"@module-federation/nextjs-mf@0.0.1-beta.7","dist":{"shasum":"73915da7f2c13be05dad165b5be012be75d5acc2","integrity":"sha512-eSkWpgmFd7zovyyNTiUaOKbz8XwvTL3iZX3srIw7vD0DR2AJmLmUuFJdcfJwWaNVuZWYEketaa0MXP5slBuzeQ==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.1-beta.7.tgz","fileCount":22,"unpackedSize":260240,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJfmHnPCRA9TVsSAnZWagAA2nkP/0A9sTCUxcZOTq4frMf+\nlyGOGthp1kKmJuu5c+qUafVDEFf56GYMlIxaW8ljoe9vzf407lp5upF6HIKu\ni3I6IfkSQrwwKZK6q46eNbg/JHrUozbm0zMZJ/5Nh2o+wrZFM9h3ueywFCWP\nb1DJipM08E7tDcyNyBAr8J0DBDuKvwRCkmT33g3UL1oxeEqytGl+MK3SIL91\nLk9AzNh1phMxqG7by+EDJ+cEI7GhbwWmbmfHHF5XYBsa7/HJIA/0NbZ9E2kR\nehz29RDKoXFZpijfL+eQ99xKMozYVi+EgfkkUEffrb2RO73V4JQxnZVl7v11\nlUsIWW3l57iGFcKQgWGwicVdNXVtarXzhaZvzrEYUkLoNaHQfK045KPuJyaj\nETxpPn8IaDfCtcEmGBBIoEs4t5+xozgXoqxrB2zSF7kW2AQ/KcLWtBI9bdU5\n/fEBJOs5Biibul1vVSyikhIgecIkOrApOcK1fHKxznwth3tdO0Ufn235o0gz\nt6iVkJQEPWDzi5mvpETUf2Ib165BSqpXzaYeRyUYlY3S1JrxDu1Ywuoe2qjj\ndtZehlMahpcRy5dNIRuK/acYgeueZknUOrKJFNK1JUqtsKYzMz2djfwuew6X\n6A4iVH7m0novMfymGUTu2PrFbxgseJN8d8gR42jGV3FqBGEtCOtD6C+d/O2E\nDn5Q\r\n=tKuo\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.1-beta.7_1603828175005_0.3820943357483011"},"_hasShrinkwrap":false},"2.0.0":{"public":true,"name":"@module-federation/nextjs-mf","version":"2.0.0","description":"Module Federation helper for NextJS","main":"index.js","types":"index.d.ts","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"next":"11.0.0","prettier":"2.3.1","webpack":"5.40.0"},"_id":"@module-federation/nextjs-mf@2.0.0","dist":{"shasum":"e895d16370e68507491e19e4665bdc5eb78ffdfb","integrity":"sha512-SvhyBukHRjH9cj+W6tUJB87RAp9wlTGGDb/KWvR/uFwcuEPaFaL1k8Exb4Y5oV9pliDKJd4CKTPPg//O/8V82A==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-2.0.0.tgz","fileCount":12,"unpackedSize":235981,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJg0RPyCRA9TVsSAnZWagAA0KEQAIyMbyGKjOA/nFYdB/Y0\nDKivHvHrpdN4VSrURsiEoAP1I10gYjVGvqhA93+kyeJX6EKuyvGZ+SpEJmEg\nR2g71q8FnO+YOzScSpOxDV9TQ7U70gEgmghPUqRG2KnmxYY4WvdgaFlQwhuL\nkEor1W7MjmKFzfh35X/8POUmhEiFuI9WJhmFBKCKZlarHQDwcqGLKHX6SFhF\nQgbA63iyK2miqCqyvVH23Sy45RJ+lnup6VrCyFXrA7+TMSwxW1uE0KJHJKfI\nn+CHxoehNRnTo7w+ZaEW2JEOHQkc57/gcjLENva/wvaUIdX++UKNQ0gEeWAH\nycA7wVcuaEYxf1iROb7ERMu9wTZeY1ZfjoRz5dJ9lhbA7G+rSwY/fUbhuBt0\nMgoIplk7l10hcAqpc8NdYRS3gfXz7jAs1cNm9Lz7YpSSUeIU5dSSIWK+0FPi\npBpDLmyTX1p42omSlEYRKysrGU6XreJBVf0fvdcaJHraePYxmjEZgVrI0Bw3\n1Elf3QaQPt23voULnAWluqHEKfzMVLJLZK7Rc14Izs76m1MgisLlk/k730on\nw2edMELxp2+LvLzuBhHRx+bhyi3s5TYlUnCPqlNeCO8refc8qp6t7VqdQxzF\nh/mKuGMCDHIaOKZwEuyNscQB+VYxvgzgfZuRlFfx9KL7k8Cjh8HaMyLosQ4/\nQHoO\r\n=q9B8\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_2.0.0_1624314866126_0.6115061773147517"},"_hasShrinkwrap":false},"2.1.0":{"public":true,"name":"@module-federation/nextjs-mf","version":"2.1.0","description":"Module Federation helper for NextJS","main":"index.js","types":"index.d.ts","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"next":"11.0.0","prettier":"2.3.1","webpack":"5.40.0"},"_id":"@module-federation/nextjs-mf@2.1.0","dist":{"shasum":"93e4d4c0aaf7fff657aac5d9af38e1e666a08e95","integrity":"sha512-sgRncZ/DkdADwVm6pQWNMG9nasvtOXtjTe/mSken3jvalnUkwdINYBSSKhe398GoyCwXPqcbbTQ+guq6hrpJ9A==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-2.1.0.tgz","fileCount":12,"unpackedSize":236903,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJg0kojCRA9TVsSAnZWagAA1b8P/RH3emHFQ00JhXg4tGgh\nUvfww3p7rivUbzFLqxmMOZt062k6PnbTr+39BtxTtklArX2VsMpEKUiN7jBx\njaedWnXAZWsURRZHjvQewtXrr6Xu0Y2OnpJ8bC4uu4RSisPzE0YQrEDczMcy\nEATg3R9jqQaIAAYQB5XAysAZB2fF6jfLDdHRUflhq4+m58QZZZMnW06biCzj\nwkln2sDhT54+Hzx46jqN1LvtqMG1nd5dy5IKzxWSWvTjXar8K5MSrJYyw69L\nRHdYZW7KyQuKzraGPgsDvlXh+qW1I9EK4bRrxzg9jgzbzISojQP8avZjpoAq\n42Qt1ZKPH0ydjk175kMpGRj8EzqEcPNhvZDbHjjoaYyoDqa4idHqYR0Le55n\nMPLMTx/2WTGY44KC5g7gPpbcvk+sO4ZsOY4q2Vyn0bxvyNXHHPVsYL719yks\n8wo97aLyzAd+RQbtRmeiYqVYEkF/Ath6inlGwSWeoi6flM3NtrkDrL+C0Set\nPeGFbGJ8KooIUkDJEYakUCzIL1OtLSwT8uURk8ToPjeaQdop19IR4ms+suij\nkPSChJAzIg7OMbe893AQwEOpICKrik4emyVAh1mby8wDw3XPPGdyQgKYgyti\nH8c0DmsjxJH7agT6+UQDF56MvD9qXc1Ot4FvnsU45qY/du4pQLBCyVFaoVhs\nu3SZ\r\n=Xxsw\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_2.1.0_1624394274786_0.7058190608641071"},"_hasShrinkwrap":false},"0.0.1-alpha.1":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.1-alpha.1","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nexjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"_id":"@module-federation/nextjs-mf@0.0.1-alpha.1","dist":{"shasum":"fb2cacc5c93815cfa3a19f833c5d0ac685d6e2da","integrity":"sha512-PKrQFuBRQsf2KB5GXT5XeKW6X9prvW/3DvwtYUTwz5t8ayPQMLln2Ks+5c9rueqKSIiLjes0C+tM0A+CW0nuAQ==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.1-alpha.1.tgz","fileCount":12,"unpackedSize":9292,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJflbfsCRA9TVsSAnZWagAAiwkP/jDxMioOcjm8JL4yScxr\nLo2dxICFAm8421U9+8FK6B7k/T9zFk/Jb5UNC31mlJUM+3DFNH3yhe7rPUb3\nurVhE8LI+weTKa3OPjQR94eNB1fchvYCUiA77zf9CNfvVV8cp53yTARWvMiP\niZxSQ3bHCL+KrCvY1ky43MIb0ggW0WONv6HC2GUqxR5V1Gt1WKDNbcuOT1rB\ng/ju8jeFJaj+jNn6nHV+pT4qs/Jyfk41dFk5cZEg99L4zRjEOnYmkE2rQchE\nhoL0/7vJLrt/PWFzFEAt1m81geoT2Y799HgAYRGQhCfURME1eyQxI3ZYgd2k\naPfJpJHjdVSddk8MS1y3xGvX3fVJ+QMNG780aU+J7ePdeg41xZVVPc7s77I3\nPjyT++yBWGm7nyZJUKeVeByxNoorHpoba1ftxfa+OykNZosX9qIArV10FE8J\nuwF1KyimGNYg+ziHEjPGpMAO8V4zLjXI5bONJ6fSHeSa3+9EHfqIYhgzkZb3\nxqkpdKGSNxKOqgNyTZzxmeav8ndRIuXByp7A1q+tR6B8Q8FRmFwHKdUdY/0x\nuaypwNFOCBu9TGucK6Y31mEZd4JyoaMfNAOVLMA4SXOyi8ibkJm7w1tZjOuh\nY2eMMoHok4mltY5Dmw3EI3eWV24MBvlR6a2WWFQGY8znghGxnu+qUlKlJSMZ\n9unr\r\n=Bqh1\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.1-alpha.1_1603647467624_0.3722417982022821"},"_hasShrinkwrap":false},"0.0.1-alpha.0":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.1-alpha.0","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nexjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"_id":"@module-federation/nextjs-mf@0.0.1-alpha.0","dist":{"shasum":"21d2dc745b5d1302cbe5a4e34ab0686d5ef06f0e","integrity":"sha512-aswYzBsetrbd1Vezatsydu9U0VHEd3/eCwmWwhWUn3t42ceO+LSUjdfHUGWP646orMiMeSMEJIg1ijBmEw2cNw==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.1-alpha.0.tgz","fileCount":12,"unpackedSize":8621,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJflPlOCRA9TVsSAnZWagAArBUP/20A8+hkjs1UB52CqKbp\nVXXu/1NTAS13Nx9B5q8LOzY0RNxj52WnTaHLShSPW6pdBZS9hEOYwUOhzq2c\n5ZosaYB5JgQBMLYc4WL63tq9bTL+d6RriqJkawyWGYPA7GolPAVWZLB+/emT\n9cYNDtxBP3CHi1DXxRdso0E2n4sTrFjDOvYXnjBwxRU9u3TQe61SvO+1XK1C\ntvSOiIqHRNEkOfx5krr8Cu0mLuvrxTx5udJkY7npgN6Plh/3Lxcpp4cZoo2T\nP8uvVj4hgPIjhDxO+R8/Zx4Fa1CUCkesqX+L595oL8hGUSrFV7mVWhQI2TVE\nDF0qrdKOsqMo7LD7oKKA4Bbshm3ahzQRXHKGntx4mzVqzYjQQqoUwvhmE//B\nYnrIe43sIK3YYFSp6wPOkDBzzFYZ6nSFdVZiij5GvYG2YZQtVGkZgHj+In1g\nkevWqaYZ6OV214iAuPbSDwovoc0nFeC/bODEjECZLgU995FX5AsJnsZ6qu70\nB0GUW6LItWWD7DnFDwAVx2pFnNxHHJudxv/NLO64XHSwqhIvuCfx8XaKengp\nAg3IJ8qoSvdutT1xVJQTALH91ikwlC/+9h+nqQ1f6lGDt36bqouNyySvydTI\nWkruOwoqkWf4cXVq/nryjzF/fHMmndVXaDvRRnl+2ZT0Ug6F+rDL57eWVqMg\nhen9\r\n=RNYo\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.1-alpha.0_1603598670041_0.718086269302491"},"_hasShrinkwrap":false},"0.0.1-alpha.2":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.0.1-alpha.2","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nexjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"shelljs":"^0.8.4"},"_id":"@module-federation/nextjs-mf@0.0.1-alpha.2","dist":{"shasum":"877b12215bce3e6f3672d85506f306f91bacfedd","integrity":"sha512-wtO0Eu1CzR06n5ZBmobhYNAxUrQ7qPV7skA71VSwWX1kGoJC/p03LjPOE7+2Q+0nxU1i3/HccwljeIa7vB5XdQ==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.0.1-alpha.2.tgz","fileCount":12,"unpackedSize":9250,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJflbX1CRA9TVsSAnZWagAAy10P/3rdYwHwYLoobXAL4740\nfPkkQaNk1eZRDUNGA48a5ZK+P6tv57p50eR7/AET6xAIapiVz/+hCItCjUmt\nX57neYzh7V76Wj2JFztdx4GsBD/ek6UlwQoOywDJt26qClPdFED3u7ChGM8i\nU+sxM/IfC2H/+3ZOWy4bsX0SS1DI0hcrmCc7xlzPJSTAfaVy3B+zxoX0A/ms\nJxJMGYMFP4WvoxNo9qRHAiGMe5sW3QdVqNkkQ3bynupo6RZ0hnGpFHr8mbQ2\nxcFMhcsBxnaXZa29bItr2FaXAQAEDTkK9Iw76UObjhQyczQG1tDlD4Qde2bs\nxHxb/sY8+ysmkYArfKhx69oyZI5vtuBC3iyi4w7m0ZAEYJUiFD1hQfsVJcU7\nrddBkOwi2tkMqkPZdsg7Ut+a3jQcNfsKTyZEU6UgXYmsVt7KIERCUjYjJ+Gg\nMc3qwpP5vZY3Bh3MyKgRml/wMjAZcEDnuYRiPMBUbNQNlal/PCqCv1uQ9CCC\nZEgu8Xw8pognaEVGxdEdmqIp5qoU8/EcdjuER50oBhnnVhEIWBpZzIPD0JXd\n1GaWpOMl3padfkTPPGgLMc4cL6T4IEOlal82jnzmwsPiaytzQ1gjPp+eO3jt\nOGu1v5B8rfzQgI0hIJOARV8aICJfCvOyY63+OVR3Ko0oYpe3LaWCI78qAQvG\nghl9\r\n=o7bs\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"marais","email":"me@maraisr.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"}],"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.0.1-alpha.2_1603646964526_0.5969667453930587"},"_hasShrinkwrap":false},"2.3.1":{"public":true,"name":"@module-federation/nextjs-mf","version":"2.3.1","description":"Module Federation helper for NextJS","main":"index.js","types":"index.d.ts","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"dependencies":{"webpack-federated-stats-plugin":"2.0.5"},"devDependencies":{"next":"11.0.1","prettier":"2.3.2","webpack":"5.40.0"},"_id":"@module-federation/nextjs-mf@2.3.1","dist":{"shasum":"d8029e1f225c7719370ec564c6937271a74a12bc","integrity":"sha512-mWeVr/kb0Ip0zgKXO9e/ub5PEb9wNFNFzy06+wDhXCtz1YGaPlTiyjnvpwZbAwD1ha8B3EcHjKYEB3ic/0ogKQ==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-2.3.1.tgz","fileCount":13,"unpackedSize":237341,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJg26NNCRA9TVsSAnZWagAAJPIP/RT2PsfWodvesW3V1+Xi\nMv50R0Xw4kpm9CiGq45ud7OXG1URjiUv1aGRmgtfk+hbIyj5v3tO7qWxcpjy\nHJ67eNwpCPYmS8Q6sMGZfNcmB5Zt/WLWSEt3lSTqiPel6pa8yYLNQ4u/3Sf6\ne7u14k8MFgoiMjMfh51RU+hJYtp0tHHXr+CvKnt6AD4XabC9ilQE/0k9IVsE\n24cjzWdPNvm9Ns7wOg7zZljFpXeGYcnpeX7WQwTdRbotIoJcUgXpZn5AHCiK\nz2GbKOLJBNwhiOZRVVZ6A2UYZTHUA/hIrLi+s7oORUryl/sev3jTK/kv0l2L\nL5cfwkDmeAStCKRC6mIlsBim/m2bYL0K26v4QCyZs8KiNg3MQbVvKy9+JAVu\nNGVqpegOROISFQ8cq1N3TWbfsV+4MV+oDMqj/eQlsDGex9PYQo/AIs2YtaFC\nq53nJMk4nNkTbfi9kkmcDzAv5Pq1qowzQKWnjlVKRBhParJ1eLsKrj4dWnE8\nUGWPCleiiAH7FKEH5Nvry1N4hqk8CvUX0hVTz00VXk/p+IYV2ROtVv/I6FX5\n6SNH4BYs10u3ih7FU2U/Xfvx23flEEe7iZx9f+nUqVaE+HA+gan0kyvaGd59\nreR0xsdtWi+RSJ25RcCt+A25Mxebk96RTUkYq7q5cfUpDcUQ6PlbqPHQfP0S\n4rrB\r\n=kb54\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_2.3.1_1625006924916_0.3376444145073987"},"_hasShrinkwrap":false},"2.2.0":{"public":true,"name":"@module-federation/nextjs-mf","version":"2.2.0","description":"Module Federation helper for NextJS","main":"index.js","types":"index.d.ts","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"next":"11.0.0","prettier":"2.3.1","webpack":"5.40.0"},"_id":"@module-federation/nextjs-mf@2.2.0","dist":{"shasum":"706cfa95567c2fa73476fc4c62c5c146d8a4a645","integrity":"sha512-RJFl3Tg28jsmq66tWppvKry7bpMtPzKmks7u0Ra+x5dnYImbfxWpcUSy8gujUqbinOGm5CZ7huXs3idzNWQleA==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-2.2.0.tgz","fileCount":13,"unpackedSize":237020,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJg0mUdCRA9TVsSAnZWagAATpkP/iP33T9mrf5qPE5tu5Nb\nCN3oio+voh7RXKStS441IcBR0gQMnuSA6J3W+1+YvQ9383Vh9T87vmUNr+1V\nm/VmsoPKVYdDkDTns7kQV8ZycP0PrOhbIOxEUEn1/vrisLGWsBnuOho7qKXv\nzq7P2dl4i+qzroRh3b21fTycWKMwIwm35O5AQfQlrFMI/scObc+hdZ8FIfvo\nBr3hbH3VR2tVP9cWfBXfsAoY226HrH/DqCntTR7k269ULV6tKCiUnXpebCaL\n9HhA+zyWkwZomvTg0PcyCZKZR0KqpBEHmGxQSF/NaSfjehNC1wRvA0rjWvQW\n9H3h3o0Qz68MIdizJPShFZK3PdaUSayVc2gVxckKou5qPsfwg2knzD1FLmFT\nFniPZtad4jUWOQIgvWtdTJk0N9PSW5VvlkhcTTs3DnlxM+hgxRPpe6tkcG0i\nHPuRGzg+JzlDUXJbRD1kaWkOBt3Rcj2dQr239UYHR6pztOZRRDBr9GTtcM7e\nvTuhCMw07eXyN8IY/IhPumpGAnLTRn2StfE+wNPeYGPog22QFDzbPu/f/PZy\n2HWR2zsjm1Q79k43jbLlCjxU924Obt2TEdpz7eCs0oPzrsZORDM+Pmc4dRq7\nXbSIuW9Re8XIixYO32d3ylh6lv6rGZ77tfwzZpsr6v1I7EMRdkVwkoZt0ToD\nY4bV\r\n=I0ex\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_2.2.0_1624401181071_0.015517265902972532"},"_hasShrinkwrap":false},"2.3.0":{"public":true,"name":"@module-federation/nextjs-mf","version":"2.3.0","description":"Module Federation helper for NextJS","main":"index.js","types":"index.d.ts","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"dependencies":{"webpack-federated-stats-plugin":"2.0.5"},"devDependencies":{"next":"11.0.0","prettier":"2.3.2","webpack":"5.40.0"},"_id":"@module-federation/nextjs-mf@2.3.0","dist":{"shasum":"ba1124694e8bae5840c02ceb99b9d37def1662c2","integrity":"sha512-xYL8CAp/mi4dI7x8dJIjLd8W/9kj+54ujr8F1s5mCOxz7R8QBeiSMK3DcoxyhQXWp468VmWeY5NzgEK1S71OYg==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-2.3.0.tgz","fileCount":13,"unpackedSize":237387,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJg2mm+CRA9TVsSAnZWagAAzr0QAIRhTm9IjAfxMNWJuMc6\n7W9bY9YjmTAdO9znYJ2/W4lYcuNSBsxfHYr/TEg2DAbopB68b5Ec/L41I6sJ\nlDhPKcjwrEkfyHm6XEbpcBKVwUOcYWgWQrXw9YI9r0tC4AWXNEGERfcK8oic\nViDU3VOmDps/798fe56aGnKvRQrQPKN1vX7jjfXrl4lv7Q+0OrZdxcP1aOzs\no3C07YKFOb+9dLhJyL8FfEX+OLjH0PvF/AcCNY3AlPYvHNIK6DuzFuiqPT13\nvbulURgGz6ade5FoTyl+UVftnfYRa/a7XWKmtmoHnhifZgF22rFqEw8CzNoD\nmyJ99j7aon5z3ZEBSwoKWD9ChruqCiFfgp1Ds4jZoApeiVblAm++ORraVm7F\nJ0NeQHdq7xQNFsXtWAToi2fHmnoBch7ZT/frzwgqDI4QETOzM+AzD1JJ67xF\nuJpmS+xUTn6dax7BraHUDvLpd6j6UGhtilcB0wUEeFqIL8aNwHh0dGcAJSlX\ngzDV3lU7vKaDMrtIMdZEHEFZHT6JDnIfJWP6ig+B2y9x2FVXsU/FL0PAY+Uj\npcIjh2NSdSn2OfrulKC5rtCyEwMtsIIWfMbSXjZzhTGCC30624kJHPMILRzN\nKRuOYJDQq7efoz7nHEKahVM4RW5lPvbULaYsWrRlqGpDhy+fC9Rv8UPuHyH8\nQKyo\r\n=7hb+\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_2.3.0_1624926653692_0.04830094965927345"},"_hasShrinkwrap":false},"1.1.2":{"public":true,"name":"@module-federation/nextjs-mf","version":"1.1.2","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"2.3.1","react":"17.0.2","react-dom":"^17.0.2","webpack":"^5.38.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"_id":"@module-federation/nextjs-mf@1.1.2","dist":{"shasum":"35d0565e3dc475837fa7e9b45a157b489d3de2da","integrity":"sha512-0QwKA2ABQzOGru2YO+nCZiU9efFB/2vwTmrtedZMLZ0sK7prSTNEc/jZ/hdyfsY5lCbhVba5uECmLF8YMaZpww==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-1.1.2.tgz","fileCount":12,"unpackedSize":240431,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgwSu+CRA9TVsSAnZWagAAfo0P/0NspwsM4bwqXuebPXLR\n0cSJRSOOo5LmKYMMnrvn6FJ3PqFu0CEgNIO/7kA7dOJqSwfNF6HxfO5qlkHp\n4bNHOi30JKdvt63WjUd+Zc6c+mqHn28hDMCToSlVYFyTuMUyHtigQhC45IFG\nx1ZCTmGWY6GBNSUYGDGlS9zygpvxGg3C8+P2dq5km+KLK91O/SBGun649IL7\namPOLcb/BXs9MTvTFZXlMl+7wOzeHzEeI4LYGT6YUzPDlWZVFEOyBzPww6dP\nntPo6lpRPf2fwKx5twrSw3i2SKtfkO5sUITeP/sysDLAImgsLcEbDeqEJ31U\nbyPd9GkY95i+Tewd05nlzAYUAK7yxskvlPpQlJbKRIBdU9coaFZ0FmLl27lK\nZsJFI/hlhhhfnUhN17fXZO+neJ17nemtGsmKSIAkEU+QcM1MlVA5UDj+4EXT\n8moQ8EvSYPYv1qQwXeCQtJyg1Q2U/W3tHSjigTlnBZbvjXtV7nJagj1Ijk0S\nuU8EssttYvw8MkZsjQmwM5/5GdA6GWHJ8dK5MMrc9kCQNIf8BggiZNaidaDm\nGrpA7jB0VJpWibfdYAmrKObFDQOJOS8KQuSIbzq57Mb4z3tFRouhrQJV4PwX\nRL+Uk8OJUDShUa+sTZApODgBW8qctOi/WAQqvq2FPrYMgxf5BNSDOPHIHjIg\nFp3K\r\n=xZHI\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_1.1.2_1623272382262_0.040414192492929324"},"_hasShrinkwrap":false},"0.1.2-beta.0":{"public":true,"name":"@module-federation/nextjs-mf","version":"0.1.2-beta.0","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"bin":{"nextjs-mf":"bin/nextjs-mf.js"},"devDependencies":{"commander":"^6.2.0","prettier":"^2.1.2","react":"^17.0.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"readmeFilename":"README.md","readme":"# Module Federation For Next.js\n\nThis plugin enables Module Federation on Next.js\n\nThis is a workaround to hard limitations caused by Next.js being synchronous.\n\nI am working on an update to Webpack Core which will circumvent projects with older architecture (like Next.js).\n\nThis is a stable and viable workaround to leverage Module Federation [until this issue is resolved](https://github.com/webpack/webpack/issues/11811).\n\n### Supports\n\n- next ^9.5.6\n- SSG\n- SSR\n\n**Once I PR webpack, this workaround will no longer be required.**\n\n# Check out our book\n\n| <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\"><img src=\"./docs/MFCover.png\" alt='Practical Module Federation Book' width=\"95%\"/></a> | <a href=\"https://module-federation.myshopify.com/products/practical-module-federation\" target=\"_blank\">We will be actively updating this book over the next year as we learn more about best practices and what issues people are running into with Module Federation, as well as with every release of Webpack as it moves towards a release candidate and release. So with your one purchase you are buying a whole year of updates.</a> |\n| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |\n\n#### Demo\n\nYou can see it in action here: https://github.com/module-federation/module-federation-examples/tree/master/nextjs\n\n## How to use on a fresh nextjs app\n\n```sh\nyarn global add @module-federation/nextjs-mf\n```\n\nRun this inside of a fresh nextjs install.\n\n```sh\nnextjs-mf upgrade -p 3001\n```\n\n## How to use on an existing app\n\n1. Use `withModuleFederation` in your `next.config.js`\n\n```js\n// next.config.js\nconst { withModuleFederation } = require(\"@module-federation/nextjs-mf\");\nconst path = require(\"path\");\n\nmodule.exports = {\n  webpack: (config, options) => {\n    const { buildId, dev, isServer, defaultLoaders, webpack } = options;\n    const mfConf = {\n      mergeRuntime: true, //this is experimental,  read below\n      name: \"next2\",\n      library: { type: config.output.libraryTarget, name: \"next2\" },\n      filename: \"static/runtime/remoteEntry.js\",\n      remotes: {\n        // For SSR, resolve to disk path (or you can use code streaming if you have access)\n        next1: isServer\n          ? path.resolve(\n              __dirname,\n              \"../next1/.next/server/static/runtime/remoteEntry.js\"\n            )\n          : \"next1\", // for client, treat it as a global\n      },\n      exposes: {\n        \"./nav\": \"./components/nav\",\n      },\n      shared: [\"lodash\"],\n    };\n    // Configures ModuleFederation and other Webpack properties\n    withModuleFederation(config, options, mfConf);\n\n    return config;\n  },\n};\n```\n\n2. Add the `patchSharing` to `_document.js`. This will solve the react sharing issue.\n\n```jsx\nimport Document, { Html, Head, Main, NextScript } from \"next/document\";\nimport { patchSharing } from \"@module-federation/nextjs-mf\";\n\nclass MyDocument extends Document {\n  static async getInitialProps(ctx) {\n    const initialProps = await Document.getInitialProps(ctx);\n    return { ...initialProps };\n  }\n\n  render() {\n    return (\n      <Html>\n        {patchSharing()}\n        <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n        <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    );\n  }\n}\n```\n\n3. Use top-level-await\n\n```js\n// some-component.js\nconst Nav = (await import(\"../components/nav\")).default;\nconst _ = await import(\"lodash\");\n```\n\n## Experimental\n\nUse at your own risk.\n\nNext.js uses `runtimeChunk:'single'`\nWhich forces us to also add the webpack script itself. Till this is fixed in webpack, heres a plugin that will merge the runtimes back together for MF\n\nThis can be enabled via `mergeRuntime` flag. This is not part of Module Federation, its part of this plugin.\n\n`withModuleFederation(config, options, {mergeRuntime:true,...mfConf})`\n\nYou can manually add it as follows\n\n```js\nconst { MergeRuntime } = require(\"@module-federation/nextjs-mf\");\n// in your next config.\nconfig.plugins.push(new MergeRuntime({ filename: \"remoteEntry\" }));\n```\n\nThis allows the following to be done\n\n```diff\n- <script src=\"http://localhost:3000/_next/static/chunks/webpack.js\" />\n- <script src=\"http://localhost:3000/_next/static/runtime/remoteEntry.js\" />\n+ <script src=\"http://localhost:3000/_next/static/remoteEntryMerged.js\" />\n```\n","_id":"@module-federation/nextjs-mf@0.1.2-beta.0","dist":{"shasum":"e2209f88339b26e87e9dc64de301d86526d1092e","integrity":"sha512-bQse08eoo9bK3pmejMjPZo9HEdA2QeQQApCinIex0xkNK2f1D/kjTBol4ctbxrWXkPJHc5PbxvKtHryI15bBJQ==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-0.1.2-beta.0.tgz","fileCount":17,"unpackedSize":241710,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgkvMmCRA9TVsSAnZWagAA1ZQP/1P/ucl534TrVBjRxi4K\nUKIpGHP14U8BfSlY20HCBv01dgnL78WhqPD6vLLuqQee2t8fymgbDoVr5TUt\nNfcatpRrPiYgxaMEOJv+iQAwTX0kKOsEy5BGsmESByzLiuwtopJJKJ7hAJsn\npvS73G//A9URmaZSlQzb1A+fxyxYiT0dcBHR/LBeC3rnZXO/QPcfUoYusNMI\nVxCawRtb91oxviQSlNRG2UybabPFLtPJt5O6ZqckbUIFIv1tY0EMsVrSwxil\nvaoxh+hcVYIlGm9fu4AGiOOLre7+zyB6d6H2chxLqpze4iXmHhhl3l/oJxMX\ne0obfaksHW4pHtiia8m8MAg4b+X81z3vT3N7Omv7PhtmY3bbdRYMG717hYCs\nn4ZiCX+aowQo0jkaj0JD/Wm47bM2AJFHLEoIMTeJvqQUn/YhoEIf7W5ufZMj\nkyw/uOUJcab7ZzxYkeY9qHRx09wuyRW3jGfR9nN93/bE1piZPWrPggbxQO7V\n+mIlv8WeJzY5L2IwcVvhnUsGEVxRmMTIEfHMwU1DF7EcYkg0ugUUsE4KVxjZ\nT4ycKnXlJw15IgSuxYA5YemS7P5ItzoNLwBQRmw5Mhl2vKwaNhh011WmczVA\nAdBvZ/Ltwp+8ZUCuDcxhBS9H7COBVr1VO3rgkhwt0IVciTWJOa+0iI2p+30/\nZxe+\r\n=UgXc\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_0.1.2-beta.0_1620243237972_0.8011079464642354"},"_hasShrinkwrap":false},"1.0.0":{"public":true,"name":"@module-federation/nextjs-mf","version":"1.0.0","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"2.3.0","react":"17.0.2","react-dom":"^17.0.2","webpack":"^5.38.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"_id":"@module-federation/nextjs-mf@1.0.0","dist":{"shasum":"0581b33659ddb729656c499abf9ec06c94c5c938","integrity":"sha512-gv8tmg6brxH9EZK+1mrTEUdc+eUl/r5e0lItNQYH37SApWxVuWO3RjLksyF8GMqnOPxRFBh+XsFB+GCtBtg4/g==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-1.0.0.tgz","fileCount":12,"unpackedSize":240083,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJguBHhCRA9TVsSAnZWagAA1bYQAJM/Y+ax4gp7i0KPgcHC\nT0vDBOc6lOfEewWVLW2m0WXhO3u1qiGL1nYGG+lD0+ELgcwm+v4FEmKHrMNh\nmPWtZK/mdGziEOYghC89fppGaXsP71nkGj1kx5jZMFfn99FxzbdN37IPn5jS\nLH9vOoZONnzEDiYkt4ogqS5ymop7sUkvoTiWxjI0fI/21TWFvkLbaUSMIKaR\nfmtvFq2fU/b8ebKuqNRaT49JuwoDC7pwkcGqvEkqKx5yYQ6Rq81sSir2LlT/\ncJCl32ZannI5JObZE/LqnBAKvf0LkhcKXN7/MJ2cYUdO3QY6Vjvn6kNHpSt/\nWY3LqH9tu6OQMKs2joN6yFx8L+hupXFdkrAqpBz1+hQIza7BKnDp24B5Jq8z\nP8NRSASUNxF+jikmn6Youzk2X+W3Sxe2e3uC6aJsroX1lphdX7ys/AKcYPUY\ns1TsliRmfbC04RAkmMZM0LLtD1PQThlCXiWtjeScPjom60YK/lKx2VyTzyFt\n3jHP+cL/O13KFz0obSDjPetMj7yTrERriQ3EBTdtyT/h5uHesJ3MryoItQL/\naVHYnVqfbibGV3VYL84yjyZGt5186AXBHjb5il+/xwWRXBdRiHM8jO5xZGKn\nbZdCUIzUq910Gx5cWlZZHRM7Ugj6RpMLxc9AeZnrSiuf5Im+x0GuHbfEoxCt\nXx/3\r\n=awkv\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_1.0.0_1622675937448_0.5144137512232663"},"_hasShrinkwrap":false},"1.1.0":{"public":true,"name":"@module-federation/nextjs-mf","version":"1.1.0","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"2.3.0","react":"17.0.2","react-dom":"^17.0.2","webpack":"^5.38.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"_id":"@module-federation/nextjs-mf@1.1.0","dist":{"shasum":"6db8256c6f76912576d6069d74e9629ed84efa5e","integrity":"sha512-gkpQCnVDmRKj3FDcchcerPrMjcnvC1cEeL6HFzlpJy1415JTgA5ooa1YERgS4piQB9UVsmEN4dZ95B/pvPMVDA==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-1.1.0.tgz","fileCount":12,"unpackedSize":240402,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJguVF5CRA9TVsSAnZWagAAMLkQAJk9EYXL2d4zSRuuGABL\nLigpqEbYZqfuWWjsYMgAbTuXRGmxSmvyo2kWBWmm8EqejKMHblNZYNLxIbl/\neJE/z3YuahZTlmsE6D3XfuAI5AUPoSgnE6fix00mOb/6NZRb5yKp2Bg80hvf\n3ObT+uowpWkObS4WWFrhAYqCtsoTaekr8HCHJZJB2LYvMUdhtjpllv84pmYT\nEgu/VEnabO30HebmsqukE8Txe8EjRbnouoMLRzioA0Lh1ri1ejNPkbM5Lwix\nWCTwJKUOI07spw/d3xe0bO8Y0j/o/ouQxleIwqcBE8beAc8plaLJIUpLlqzZ\nIu/PlblVQaSMXBXevfAldKC5DUJ0dsnTnL02Xru4rvHh35GGog/ugsXw4x8h\naWaWQtv6RUdngEpYICcFkCMj0JRHOOBw1D7RcOhD3Tfjt9v9m60qGMdAxcw9\nS8WuJVZTa9xSq1weDLa5njoAIuEnCshNnGw5+MfoFZzn5ISqZYQbF4q+vgCu\n36xRro06lvKeGU98ECQArQQQ3tkAOCeo9dvNZNheVCiM4uQhc5U4hHs0OgDG\nCIEiqzqQpWy4uziuLiYnuCEmMozoCQ/45JaapHfwQRNKzhK3pezjFyLk111V\nBNLDCowTBc+Z3uPZfRyZu2WVRAyxxX/1T7MejM5Fy6lxA1nKG3EIxW8vrZB/\n1zBQ\r\n=E2W+\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_1.1.0_1622757753416_0.1465113228192818"},"_hasShrinkwrap":false},"1.1.1":{"public":true,"name":"@module-federation/nextjs-mf","version":"1.1.1","description":"Module Federation helper for NextJS","main":"index.js","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"license":"MIT","scripts":{"prettier":"prettier --write \"**/*.{js,json,md,ts,tsx}\""},"devDependencies":{"prettier":"2.3.0","react":"17.0.2","react-dom":"^17.0.2","webpack":"^5.38.1"},"peerDependencies":{"react":"^16 || ^17"},"dependencies":{"webpack-sources":"^2.2.0"},"_id":"@module-federation/nextjs-mf@1.1.1","dist":{"shasum":"3832bb3e809f3df9cf228738be39eaeae1c15b1c","integrity":"sha512-9wVJqUeEAzPxji7a73ToSxRj3KbDSk2qz3CuLaLdYCa/z/F1zz0cXNhaKvFLpvsDMJAXPrfawundUyLm523FXw==","tarball":"https://tools-nexus.maerskdev.net/repository/npm-group-internal/@module-federation/nextjs-mf/-/nextjs-mf-1.1.1.tgz","fileCount":12,"unpackedSize":240489,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJguVQgCRA9TVsSAnZWagAA2HcP/Apn7o2uqHMS+2PRoTf/\nmCPqBHN1STkvkozN6w2yXPQmwlUdhH3rJOehix0gXZNyWmY+8Nc+ZJS7bLOj\nh/9qt9+gpZS1c75kdgeebtQ6xnH/uYV1TDRx9Jandk20XeB1GhnLplB+pRTW\neqCILdJizoPAqzKoaS/Ljp7nsHJseL6RvjrmwOVMgDDWjeDztMoID3A7jUWK\nyJLGjDU8TC7Qm/uukDZlNRTuV0qi9EHcE93f6/iwFsxJVwWj0rMchcrxhc3x\nuFplvObz5VTdA0hsBGjmp+vnWVl/0NMkJigfCs+Tehnn6ALnnqgHNVUq2s1Y\nGPLIi26q7Xne+NZnws72ND0BDDSptjx1xETCpyNxRbyVN6j8UevRiUU2fdKV\nlL8oqeRTcz/wm7TF9rcz4q9QmtkIggxc1jEjgugwg/SC4E+ZMHWOQDxUBDaX\nw7DJS5IXBuGjhs/1OyoJIbZC5XFUjPPy+Q6V2WuvHtDlnMbzHUb++DAsj+Q6\n+UEsEloZaZNhUSvi7OFbHnBziLiiQF6G/bZIWqaoMZ4H7fuToubP+N2+fEM1\nr0NE6GmJEna9yZgSekQs31FYpBvDQPivj7LlJnG+wPAzptdlA74pLm/etQ4q\nu/YrxKHH/6V8qfvfFMmep1IJKxhMTzv7mYq8AiC5g0oWJf4HbS8Gv0C3QO4/\n5RGC\r\n=BGf8\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},"directories":{},"maintainers":[{"name":"tysonrm","email":"tyson.midboe@gmail.com"},{"name":"zackljackson","email":"zackary.l.jackson@gmail.com"},{"name":"marais","email":"me@maraisr.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/nextjs-mf_1.1.1_1622758432442_0.6887053250230697"},"_hasShrinkwrap":false}},"author":{"name":"Zack Jackson","email":"zackary.l.jackson@gmail.com"},"name":"@module-federation/nextjs-mf","description":"Module Federation helper for NextJS","readme":"","time":{"0.0.1-beta.0":"2020-10-25T17:49:33.708Z","0.0.1-beta.1":"2020-10-25T18:04:49.522Z","0.2.2":"2021-05-20T08:46:23.393Z","0.3.1":"2021-05-22T01:52:24.311Z","0.4.0":"2021-06-02T17:29:31.282Z","0.0.1-beta.4":"2020-10-27T06:13:22.574Z","0.0.1-beta.5":"2020-10-27T17:11:40.153Z","0.0.1-beta.2":"2020-10-27T06:01:50.969Z","0.0.1-beta.3":"2020-10-27T06:04:03.922Z","0.0.2":"2020-10-28T18:29:30.624Z","0.1.1":"2021-05-05T17:13:22.917Z","0.2.0":"2021-05-18T01:12:04.142Z","0.0.3":"2021-05-05T17:11:20.330Z","0.2.1":"2021-05-18T01:26:52.555Z","0.3.0":"2021-05-22T01:20:09.918Z","0.0.1-alhpa.3":"2020-10-25T17:43:36.652Z","0.1.0":"2021-01-26T02:11:09.007Z","1.0.0-beta.1":"2021-06-02T22:41:04.956Z","1.0.0-beta.0":"2021-06-02T22:29:15.129Z","1.0.0-beta.4":"2021-06-02T23:15:37.607Z","1.0.0-beta.3":"2021-06-02T23:09:35.211Z","1.0.0-beta.2":"2021-06-02T22:48:40.413Z","0.0.1-beta.8":"2020-10-27T20:08:53.113Z","modified":"2022-02-04T05:40:24.429Z","0.0.1-beta.9":"2020-10-27T20:39:30.630Z","0.0.1-beta.6":"2020-10-27T19:10:48.793Z","0.0.1-beta.7":"2020-10-27T19:49:35.204Z","3.1.2":"2021-07-31T03:59:53.482Z","2.0.0":"2021-06-21T22:34:26.359Z","2.1.0":"2021-06-22T20:37:55.107Z","created":"2020-10-25T04:04:29.810Z","0.0.1-alpha.1":"2020-10-25T17:37:47.749Z","0.0.1-alpha.0":"2020-10-25T04:04:30.221Z","0.0.1-alpha.2":"2020-10-25T17:29:24.798Z","2.3.1":"2021-06-29T22:48:45.177Z","2.2.0":"2021-06-22T22:33:01.281Z","2.3.0":"2021-06-29T00:30:53.979Z","1.1.2":"2021-06-09T20:59:42.430Z","0.1.2-beta.0":"2021-05-05T19:33:58.178Z","1.0.0":"2021-06-02T23:18:57.670Z","1.1.0":"2021-06-03T22:02:33.613Z","1.1.1":"2021-06-03T22:13:52.612Z"},"readmeFilename":"","repository":{"type":"git","url":"https://github.com/module-federation/nextjs-mf"}}